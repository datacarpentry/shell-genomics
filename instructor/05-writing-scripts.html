<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Introduction to the Command Line for Genomics: Writing Scripts and Working with Data</title><meta name="viewport" content="width=device-width, initial-scale=1"><script src="../assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="../assets/styles.css"><script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../favicons/dc/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicons/dc/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../favicons/dc/favicon-16x16.png"><link rel="manifest" href="../favicons/dc/site.webmanifest"><link rel="mask-icon" href="../favicons/dc/safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" media="(prefers-color-scheme: light)" content="white"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="black"></head><body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="../assets/images/data-logo.svg"></div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text"><li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul></li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='../05-writing-scripts.html';">Learner View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="../assets/images/data-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Introduction to the Command Line for Genomics
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Introduction to the Command Line for Genomics
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"><li><a class="dropdown-item" href="Extra_lesson.html">File manipulation</a></li><li><a class="dropdown-item" href="etherpad_template.html">Etherpad template</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul></li>
      </ul></div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="../instructor/aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to the Command Line for Genomics
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 71%" class="percentage">
    71%
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: 71%" aria-valuenow="71" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text"><li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul></li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../05-writing-scripts.html">Learner View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->

            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introducing the Shell</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-the-filesystem.html">2. Navigating Files and Directories</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-working-with-files.html">3. Working with Files and Directories</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-redirection.html">4. Redirection</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        5. Writing Scripts and Working with Data
        </span>
      </button>
    </div><!--/div.accordion-header-->

    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#writing-files">Writing files</a></li>
<li><a href="#writing-scripts">Writing scripts</a></li>
<li><a href="#making-the-script-into-a-program">Making the script into a program</a></li>
<li><a href="#moving-and-downloading-data">Moving and Downloading Data</a></li>
<li><a href="#transferring-data-between-your-local-machine-and-the-cloud">Transferring Data Between your Local Machine and the Cloud</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-organization.html">6. Project Organization</a>
    </div><!--/div.accordion-header-->

  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="Extra_lesson.html">File manipulation</a></li><li><a href="etherpad_template.html">Etherpad template</a></li><hr><li><a class="dropdown-item" href="discuss.html">Discussion</a></li><li><a class="dropdown-item" href="reference.html">Glossary</a></li>
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources"><a href="../instructor/aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">

            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/04-redirection.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/06-organization.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/04-redirection.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Redirection
        </a>
        <a class="chapter-link float-end" href="../instructor/06-organization.html" rel="next">
          Next: Project Organization...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Writing Scripts and Working with Data</h1>
        <p>Last updated on 2024-04-17 |

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/05-writing-scripts.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>



        <p>Estimated time: <i aria-hidden="true" data-feather="clock"></i> 40 minutes</p>

        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>How can we automate a commonly used set of commands?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Use the <code>nano</code> text editor to modify text files.</li>
<li>Write a basic shell script.</li>
<li>Use the <code>bash</code> command to execute a shell script.</li>
<li>Use <code>chmod</code> to make a script an executable program.</li>
</ul></div>
</div>
</div>
</div>
</div>
<script language="javascript" type="text/javascript">
function set_page_view_defaults() {
    document.getElementById('div_win').style.display = 'block';
    document.getElementById('div_unix').style.display = 'none';
};

function change_content_by_platform(form_control){
    if (!form_control || document.getElementById(form_control).value == 'win') {
        set_page_view_defaults();
    } else if (document.getElementById(form_control).value == 'unix') {
        document.getElementById('div_win').style.display = 'none';
        document.getElementById('div_unix').style.display = 'block';
    } else {
        alert("Error: Missing platform value for 'change_content_by_platform()' script!");
    }
}

window.onload = set_page_view_defaults;
</script><section><h2 class="section-heading" id="writing-files">Writing files<a class="anchor" aria-label="anchor" href="#writing-files"></a></h2>
<hr class="half-width"><p>We’ve been able to do a lot of work with files that already exist,
but what if we want to write our own files? We’re not going to type in a
FASTA file, but we’ll see as we go through other tutorials, there are a
lot of reasons we’ll want to write a file, or edit an existing file.</p>
<p>To add text to files, we’re going to use a text editor called Nano.
We’re going to create a file to take notes about what we’ve been doing
with the data files in <code>~/shell_data/untrimmed_fastq</code>.</p>
<p>This is good practice when working in bioinformatics. We can create a
file called <code>README.txt</code> that describes the data files in the
directory or documents how the files in that directory were generated.
As the name suggests, it’s a file that we or others should read to
understand the information in that directory.</p>
<p>Let’s change our working directory to
<code>~/shell_data/untrimmed_fastq</code> using <code>cd</code>, then
run <code>nano</code> to create a file called
<code>README.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd ~/shell_data/untrimmed_fastq</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> nano README.txt</span></code></pre>
</div>
<p>You should see something like this:</p>
<figure><img src="../fig/nano201711.png" alt="nano201711.png" class="figure mx-auto d-block"></figure><p>The text at the bottom of the screen shows the keyboard shortcuts for
performing various tasks in <code>nano</code>. We will talk more about
how to interpret this information soon.</p>
<div id="which-editor" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="which-editor" class="callout-inner">
<h3 class="callout-title">Which Editor?</h3>
<div class="callout-content">
<p>When we say, “<code>nano</code> is a text editor,” we really do mean
“text”: <code>nano</code> can only work with plain character data, not
tables, images, or any other human-friendly media. We use
<code>nano</code> in examples because it is one of the least complex
text editors. However, because of this trait, <code>nano</code> may not
be powerful enough or flexible enough for the work you need to do after
this workshop. On Unix systems (such as Linux and Mac OS X), many
programmers use <a href="https://www.gnu.org/software/emacs/" class="external-link">Emacs</a>
or <a href="https://www.vim.org/" class="external-link">Vim</a> (both of which require more
time to learn), or a graphical editor such as <a href="https://projects.gnome.org/gedit/" class="external-link">Gedit</a>. On Windows, you may
wish to use <a href="https://notepad-plus-plus.org/" class="external-link">Notepad++</a>.
Windows also has a built-in editor called <code>notepad</code> that can
be run from the command line in the same way as <code>nano</code> for
the purposes of this lesson.</p>
<p>No matter what editor you use, you will need to know the default
location where it searches for files and where files are saved. If you
start an editor from the shell, it will (probably) use your current
working directory as its default location. If you use your computer’s
start menu, the editor may want to save files in your desktop or
documents directory instead. You can change this by navigating to
another directory the first time you “Save As…”</p>
</div>
</div>
</div>
<p>Let’s type in a few lines of text. Describe what the files in this
directory are or what you’ve been doing with them. Once we’re happy with
our text, we can press <kbd>Ctrl</kbd>-<kbd>O</kbd> (press the
<kbd>Ctrl</kbd> or <kbd>Control</kbd> key and, while holding it down,
press the <kbd>O</kbd> key) to write our data to disk. You’ll be asked
what file we want to save this to: press <kbd>Return</kbd> to accept the
suggested default of <code>README.txt</code>.</p>
<p>Once our file is saved, we can use <kbd>Ctrl</kbd>-<kbd>X</kbd> to
quit the <code>nano</code> editor and return to the shell.</p>
<div id="control-ctrl-or-key" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="control-ctrl-or-key" class="callout-inner">
<h3 class="callout-title">Control, Ctrl, or ^ Key</h3>
<div class="callout-content">
<p>The Control key is also called the “Ctrl” key. There are various ways
in which using the Control key may be described. For example, you may
see an instruction to press the <kbd>Ctrl</kbd> key and, while holding
it down, press the <kbd>X</kbd> key, described as any of:</p>
<ul><li><code>Control-X</code></li>
<li><code>Control+X</code></li>
<li><code>Ctrl-X</code></li>
<li><code>Ctrl+X</code></li>
<li><code>^X</code></li>
<li><code>C-x</code></li>
</ul><p>In <code>nano</code>, along the bottom of the screen you’ll see
<code>^G Get Help ^O WriteOut</code>. This means that you can use
<kbd>Ctrl</kbd>-<kbd>G</kbd> to get help and
<kbd>Ctrl</kbd>-<kbd>O</kbd> to save your file.</p>
</div>
</div>
</div>
<p>Now you’ve written a file. You can take a look at it with
<code>less</code> or <code>cat</code>, or open it up again and edit it
with <code>nano</code>.</p>
<div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Open <code>README.txt</code> and add the date to the top of the file
and save the file.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Use <code>nano README.txt</code> to open the file.<br>
Add today’s date and then use <kbd>Ctrl</kbd>-<kbd>X</kbd> followed by
<code>y</code> and <kbd>Enter</kbd> to save.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="writing-scripts">Writing scripts<a class="anchor" aria-label="anchor" href="#writing-scripts"></a></h2>
<hr class="half-width"><p>A really powerful thing about the command line is that you can write
scripts. Scripts let you save commands to run them and also lets you put
multiple commands together. Though writing scripts may require an
additional time investment initially, this can save you time as you run
them repeatedly. Scripts can also address the challenge of
reproducibility: if you need to repeat an analysis, you retain a record
of your command history within the script.</p>
<p>One thing we will commonly want to do with sequencing results is pull
out bad reads and write them to a file to see if we can figure out
what’s going on with them. We’re going to look for reads with long
sequences of N’s like we did before, but now we’re going to write a
script, so we can run it each time we get new sequences, rather than
type the code in by hand each time.</p>
<p>We’re going to create a new file to put this command in. We’ll call
it <code>bad-reads-script.sh</code>. The <code>sh</code> isn’t required,
but using that extension tells us that it’s a shell script.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> nano bad-reads-script.sh</span></code></pre>
</div>
<p>Bad reads have a lot of N’s, so we’re going to look for
<code>NNNNNNNNNN</code> with <code>grep</code>. We want the whole FASTQ
record, so we’re also going to get the one line above the sequence and
the two lines below. We also want to look in all the files that end with
<code>.fastq</code>, so we’re going to use the <code>*</code>
wildcard.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-B1</span> <span class="at">-A2</span> <span class="at">-h</span> NNNNNNNNNN <span class="pp">*</span>.fastq <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-v</span> <span class="st">'^--'</span> <span class="op">&gt;</span> scripted_bad_reads.txt</span></code></pre>
</div>
<div id="custom-grep-control" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="custom-grep-control" class="callout-inner">
<h3 class="callout-title">Custom <code>grep</code> control</h3>
<div class="callout-content">
<p>We introduced the <code>-v</code> option in <a href="04-redirection.html">the previous episode</a>, now we are using
<code>-h</code> to “Suppress the prefixing of file names on output”
according to the documentation shown by <code>man grep</code>.</p>
</div>
</div>
</div>
<p>Type your <code>grep</code> command into the file and save it as
before. Be careful that you did not add the <code>$</code> at the
beginning of the line.</p>
<p>Now comes the neat part. We can run this script. Type:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> bash bad-reads-script.sh</span></code></pre>
</div>
<p>It will look like nothing happened, but now if you look at
<code>scripted_bad_reads.txt</code>, you can see that there are now
reads in the file.</p>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>We want the script to tell us when it’s done.</p>
<ol style="list-style-type: decimal"><li>Open <code>bad-reads-script.sh</code> and add the line
<code>echo "Script finished!"</code> after the <code>grep</code> command
and save the file.</li>
<li>Run the updated script.</li>
</ol></div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<pre><code>$ bash bad-reads-script.sh
Script finished!</code></pre>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="making-the-script-into-a-program">Making the script into a program<a class="anchor" aria-label="anchor" href="#making-the-script-into-a-program"></a></h2>
<hr class="half-width"><p>We had to type <code>bash</code> because we needed to tell the
computer what program to use to run this script. Instead, we can turn
this script into its own program. We need to tell the computer that this
script is a program by making the script file executable. We can do this
by changing the file permissions. We talked about permissions in <a href="03-working-with-files.html">an earlier episode</a>.</p>
<p>First, let’s look at the current permissions.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> bad-reads-script.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-rw-r--r-- 1 dcuser dcuser 0 Oct 25 21:46 bad-reads-script.sh</code></pre>
</div>
<p>We see that it says <code>-rw-r--r--</code>. This shows that the file
can be read by any user and written to by the file owner (you). We want
to change these permissions so that the file can be executed as a
program. We use the command <code>chmod</code> like we did earlier when
we removed write permissions. Here we are adding (<code>+</code>)
executable permissions (<code>+x</code>).</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> chmod +x bad-reads-script.sh</span></code></pre>
</div>
<p>Now let’s look at the permissions again.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> bad-reads-script.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-rwxr-xr-x 1 dcuser dcuser 0 Oct 25 21:46 bad-reads-script.sh</code></pre>
</div>
<p>Now we see that it says <code>-rwxr-xr-x</code>. The <code>x</code>’s
that are there now tell us we can run it as a program. So, let’s try it!
We’ll need to put <code>./</code> at the beginning so the computer knows
to look here in this directory for the program.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ./bad-reads-script.sh</span></code></pre>
</div>
<p>The script should run the same way as before, but now we’ve created
our very own computer program!</p>
<p>You will learn more about writing scripts in <a href="https://datacarpentry.org/wrangling-genomics/05-automation" class="external-link">a
later lesson</a>.</p>
</section><section><h2 class="section-heading" id="moving-and-downloading-data">Moving and Downloading Data<a class="anchor" aria-label="anchor" href="#moving-and-downloading-data"></a></h2>
<hr class="half-width"><p>So far, we’ve worked with data that is pre-loaded on the instance in
the cloud. Usually, however, most analyses begin with moving data onto
the instance. Below we’ll show you some commands to download data onto
your instance, or to move data between your computer and the cloud.</p>
<div class="section level3">
<h3 id="getting-data-from-the-cloud">Getting data from the cloud<a class="anchor" aria-label="anchor" href="#getting-data-from-the-cloud"></a></h3>
<p>There are two programs that will download data from a remote server
to your local (or remote) machine: <code>wget</code> and
<code>curl</code>. They were designed to do slightly different tasks by
default, so you’ll need to give the programs somewhat different options
to get the same behaviour, but they are mostly interchangeable.</p>
<ul><li><p><code>wget</code> is short for “world wide web get”, and it’s
basic function is to <em>download</em> web pages or data at a web
address.</p></li>
<li><p><code>cURL</code> is a pun, it is supposed to be read as “see
URL”, so its basic function is to <em>display</em> webpages or data at a
web address.</p></li>
</ul><p>Which one you need to use mostly depends on your operating system, as
most computers will only have one or the other installed by default.</p>
<p>Let’s say you want to download some data from Ensembl. We’re going to
download a very small tab-delimited file that just tells us what data is
available on the Ensembl bacteria server. Before we can start our
download, we need to know whether we’re using <code>curl</code> or
<code>wget</code>.</p>
<p>To see which program you have, type:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> which curl</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">$</span> which wget</span></code></pre>
</div>
<p><code>which</code> is a BASH program that looks through everything
you have installed, and tells you what folder it is installed to. If it
can’t find the program you asked for, it returns nothing, i.e. gives you
no results.</p>
<p>On Mac OSX, you’ll likely get the following output:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> which curl</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/usr/bin/curl</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> which wget</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$</code></pre>
</div>
<p>This output means that you have <code>curl</code> installed, but not
<code>wget</code>.</p>
<p>Once you know whether you have <code>curl</code> or
<code>wget</code>, use one of the following commands to download the
file:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="ex">$</span> wget ftp://ftp.ensemblgenomes.org/pub/release-37/bacteria/species_EnsemblBacteria.txt</span></code></pre>
</div>
<p>or</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="ex">$</span> curl <span class="at">-O</span> ftp://ftp.ensemblgenomes.org/pub/release-37/bacteria/species_EnsemblBacteria.txt</span></code></pre>
</div>
<p>Since we wanted to <em>download</em> the file rather than just view
it, we used <code>wget</code> without any modifiers. With
<code>curl</code> however, we had to use the -O flag, which
simultaneously tells <code>curl</code> to download the page instead of
showing it to us <strong>and</strong> specifies that it should save the
file using the same name it had on the server:
species_EnsemblBacteria.txt</p>
<p>It’s important to note that both <code>curl</code> and
<code>wget</code> download to the computer that the command line belongs
to. So, if you are logged into AWS on the command line and execute the
<code>curl</code> command above in the AWS terminal, the file will be
downloaded to your AWS machine, not your local one.</p>
</div>
<div class="section level3">
<h3 id="moving-files-between-your-laptop-and-your-instance">Moving files between your laptop and your instance<a class="anchor" aria-label="anchor" href="#moving-files-between-your-laptop-and-your-instance"></a></h3>
<p>What if the data you need is on your local computer, but you need to
get it <em>into</em> the cloud? There are also several ways to do this,
but it’s <em>always</em> easier to start the transfer locally.
<strong>This means if you’re typing into a terminal, the terminal should
not be logged into your instance, it should be showing your local
computer. If you’re using a transfer program, it needs to be installed
on your local machine, not your instance.</strong></p>
</div>
</section><section><h2 class="section-heading" id="transferring-data-between-your-local-machine-and-the-cloud">Transferring Data Between your Local Machine and the Cloud<a class="anchor" aria-label="anchor" href="#transferring-data-between-your-local-machine-and-the-cloud"></a></h2>
<hr class="half-width"><p>If you’re using Linux, Mac OS, or Windows with Git Bash on your local
machine, you can use <code>scp</code> to upload data to your virtual
machine.</p>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> SCP </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler1" aria-labelledby="headingSpoiler1">
<div class="accordion-body">
<p><code>scp</code> stands for ‘secure copy protocol’, and is a widely
used UNIX tool for moving files between computers. The simplest way to
use <code>scp</code> is to run it in your local terminal, and use it to
copy a single file:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">scp</span> <span class="op">&lt;</span>file I want to move<span class="op">&gt;</span> <span class="op">&lt;</span>where I want to move it<span class="op">&gt;</span></span></code></pre>
</div>
<p>Note that you are always running <code>scp</code> locally, but that
<em>doesn’t</em> mean that you can only move files from your local
computer. In order to move a file from your local computer to an AWS
instance, the command would look like this:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> scp <span class="op">&lt;</span>local file<span class="op">&gt;</span> <span class="op">&lt;</span>AWS instance<span class="op">&gt;</span></span></code></pre>
</div>
<p>To move it back to your local computer, you re-order the
<code>to</code> and <code>from</code> fields:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> scp <span class="op">&lt;</span>AWS instance<span class="op">&gt;</span> <span class="op">&lt;</span>local file<span class="op">&gt;</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="uploading-data-to-your-virtual-machine-with-scp">Uploading Data to your Virtual Machine with scp<a class="anchor" aria-label="anchor" href="#uploading-data-to-your-virtual-machine-with-scp"></a></h4>
<p>Open the terminal and use the <code>scp</code> command to upload a
file (e.g. local_file.txt) to the dcuser home directory:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span>  scp local_file.txt dcuser@ip.address:/home/dcuser/</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="downloading-data-from-your-virtual-machine-with-scp">Downloading Data from your Virtual Machine with scp<a class="anchor" aria-label="anchor" href="#downloading-data-from-your-virtual-machine-with-scp"></a></h4>
<p>Let’s download a text file from our remote machine. You should have a
file that contains bad reads called
~/shell_data/scripted_bad_reads.txt.</p>
<p><strong>Tip:</strong> If you are looking for another (or any really)
text file in your home directory to use instead, try:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> find ~ <span class="at">-name</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<p>Download the bad reads file in ~/shell_data/scripted_bad_reads.txt to
your home ~/Download directory using the following command <strong>(make
sure you substitute <a href="mailto:dcuser@ip.address">dcuser@ip.address</a> with your remote
login credentials)</strong>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> scp dcuser@ip.address:/home/dcuser/shell_data/untrimmed_fastq/scripted_bad_reads.txt ~/Downloads</span></code></pre>
</div>
<p>Remember that in both instances, the command is run from your local
machine, we’ve just flipped the order of the to and from parts of the
command.</p>
</div>
</div>
</div>
</div>
</div>
<p>If you are using Windows without Git Bash on your local machine, you
can use <code>pscp.exe</code> to upload data to your virtual
machine.</p>
<div id="accordionSpoiler2" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler2" aria-expanded="false" aria-controls="collapseSpoiler2">
  <h3 class="accordion-header" id="headingSpoiler2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> PCSP </h3>
</button>
<div id="collapseSpoiler2" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler2" aria-labelledby="headingSpoiler2">
<div class="accordion-body">
<p>If you’re using a Windows PC without Git Bash, we recommend you use
the <em>PSCP</em> program. This program is from the same suite of tools
as the PuTTY program we have been using to connect.</p>
<ol style="list-style-type: decimal"><li>If you haven’t done so, download <em>PSCP</em> from <a href="https://the.earth.li/~sgtatham/putty/latest/x86/pscp.exe" class="external-link">http://the.earth.li/~sgtatham/putty/latest/x86/pscp.exe</a>
</li>
<li>Make sure the <em>PSCP</em> program is somewhere you know on your
computer. In this case, your Downloads folder is appropriate.</li>
<li>Open the windows <a href="https://en.wikipedia.org/wiki/Windows_PowerShell" class="external-link">PowerShell</a>;
go to your start menu/search enter the term <strong>‘cmd’</strong>; you
will be able to start the shell (the shell should start from
C:\Users\your-pc-username&gt;).</li>
<li>Change to the Downloads directory:</li>
</ol><div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">Downloads</span></span></code></pre>
</div>
<ol start="5" style="list-style-type: decimal"><li>Locate a file on your computer that you wish to upload (be sure you
know the path). Then upload it to your remote machine <strong>(you will
need to know your AMI instance address (which starts with ec2), and
login credentials)</strong>. You will be prompted to enter a password,
and then your upload will begin. <strong>(make sure you substitute
‘your-pc-username’ for your actual pc username and
‘ec2-54-88-126-85.compute-1.amazonaws.com’ with your AMI instance
address)</strong>
</li>
</ol><div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">C:\User\your-pc-username\Downloads</span><span class="op">&gt;</span> pscp.exe local_file.txt dcuser@ec2-54-88-126-85.compute-1.amazonaws.com:/home/dcuser/</span></code></pre>
</div>
<div class="section level3">
<h3 id="downloading-data-from-your-virtual-machine-with-pscp">Downloading Data from your Virtual Machine with PSCP<a class="anchor" aria-label="anchor" href="#downloading-data-from-your-virtual-machine-with-pscp"></a></h3>
<ol style="list-style-type: decimal"><li>Follow the instructions in the Upload section to download (if
needed) and access the <em>PSCP</em> program (steps 1-3)</li>
<li>Download the text file to your current working directory
(represented by a .) using the following command <strong>(make sure you
substitute ‘your-pc-username’ for your actual pc username and
‘ec2-54-88-126-85.compute-1.amazonaws.com’ with your AMI instance
address)</strong>
</li>
</ol><div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">C:\User\your-pc-username\Downloads</span><span class="op">&gt;</span> pscp.exe dcuser@ec2-54-88-126-85.compute-1.amazonaws.com:/home/dcuser/shell_data/untrimmed_fastq/scripted_bad_reads.txt .</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="ex">C:\User\your-pc-username\Downloads</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul><li>Scripts are a collection of commands executed together.</li>
<li>Transferring information to and from virtual and local
computers.</li>
</ul></div>
</div>
</div>
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="../instructor/04-redirection.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="../instructor/06-organization.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="../instructor/04-redirection.html" rel="prev">
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>
          Previous: Redirection
        </a>
        <a class="chapter-link float-end" href="../instructor/06-organization.html" rel="next">
          Next: Project Organization...
          <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i>
        </a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/05-writing-scripts.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/datacarpentry/shell-genomics/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/shell-genomics/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/shell-genomics/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://datacarpentry.github.io/shell-genomics/instructor/05-writing-scripts.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Writing Scripts and Working with Data",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/shell-genomics/instructor/05-writing-scripts.html",
  "identifier": "https://datacarpentry.github.io/shell-genomics/instructor/05-writing-scripts.html",
  "dateCreated": "2015-03-24",
  "dateModified": "2024-04-17",
  "datePublished": "2024-11-19"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

