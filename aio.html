<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Introduction to the Command Line for Genomics: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/dc/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/dc/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/dc/favicon-16x16.png">
<link rel="manifest" href="favicons/dc/site.webmanifest">
<link rel="mask-icon" href="favicons/dc/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav data"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="dc-logo" alt="Data Carpentry" src="assets/images/data-logo.svg">
</div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="assets/images/data-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Introduction to the Command Line for Genomics
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Introduction to the Command Line for Genomics
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html">Glossary</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to the Command Line for Genomics
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="01-introduction.html">1. Introducing the Shell</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="02-the-filesystem.html">2. Navigating Files and Directories</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="03-working-with-files.html">3. Working with Files and Directories</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="04-redirection.html">4. Redirection</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="05-writing-scripts.html">5. Writing Scripts and Working with Data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="06-organization.html">6. Project Organization</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="discuss.html">Discussion</a></li>
<li><a href="reference.html">Glossary</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-01-introduction"><p>Content from <a href="01-introduction.html">Introducing the Shell</a></p>
<hr>
<p>Last updated on 2023-08-15 |

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/01-introduction.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What is a command shell and why would I use one?</li>
<li>How can I move around on my computer?</li>
<li>How can I see what files and directories I have?</li>
<li>How can I specify the location of a file or directory on my
computer?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Describe key reasons for learning shell.</li>
<li>Navigate your file system using the command line.</li>
<li>Access and read help files for <code>bash</code> programs and use
help files to identify useful command options.</li>
<li>Demonstrate the use of tab completion, and explain its
advantages.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-a-shell-and-why-should-i-care">What is a shell and why should I care?<a class="anchor" aria-label="anchor" href="#what-is-a-shell-and-why-should-i-care"></a>
</h2>
<hr class="half-width">
<p>A <em>shell</em> is a computer program that presents a command line
interface which allows you to control your computer using commands
entered with a keyboard instead of controlling graphical user interfaces
(GUIs) with a mouse/keyboard/touchscreen combination.</p>
<p>There are many reasons to learn about the shell:</p>
<ul>
<li>Many bioinformatics tools can only be used through a command line
interface. Many more have features and parameter options which are not
available in the GUI. BLAST is an example. Many of the advanced
functions are only accessible to users who know how to use a shell.</li>
<li>The shell makes your work less boring. In bioinformatics you often
need to repeat tasks with a large number of files. With the shell, you
can automate those repetitive tasks and leave you free to do more
exciting things.</li>
<li>The shell makes your work less error-prone. When humans do the same
thing a hundred different times (or even ten times), they’re likely to
make a mistake. Your computer can do the same thing a thousand times
with no mistakes.</li>
<li>The shell makes your work more reproducible. When you carry out your
work in the command-line (rather than a GUI), your computer keeps a
record of every step that you’ve carried out, which you can use to re-do
your work when you need to. It also gives you a way to communicate
unambiguously what you’ve done, so that others can inspect or apply your
process to new data.</li>
<li>Many bioinformatic tasks require large amounts of computing power
and can’t realistically be run on your own machine. These tasks are best
performed using remote computers or cloud computing, which can only be
accessed through a shell.</li>
</ul>
<p>In this lesson you will learn how to use the command line interface
to move around in your file system.</p>
</section><section><h2 class="section-heading" id="how-to-access-the-shell">How to access the shell<a class="anchor" aria-label="anchor" href="#how-to-access-the-shell"></a>
</h2>
<hr class="half-width">
<p>On a Mac or Linux machine, you can access a shell through a program
called “Terminal”, which is already available on your computer. The
Terminal is a window into which we will type commands. If you’re using
Windows, you’ll need to download a separate program to access the
shell.</p>
<p>To save time, we are going to be working on a remote server where all
the necessary data and software available. When we say a ‘remote
server’, we are talking about a computer that is not the one you are
working on right now. You will access the Carpentries remote server
where everything is prepared for the lesson. We will learn the basics of
the shell by manipulating some data files. Some of these files are very
large , and would take time to download to your computer. We will also
be using several bioinformatic packages in later lessons and installing
all of the software would take up time even more time. A ‘ready-to-go’
server lets us focus on learning.</p>
</section><section><h2 class="section-heading" id="how-to-access-the-remote-server">How to access the remote server<a class="anchor" aria-label="anchor" href="#how-to-access-the-remote-server"></a>
</h2>
<hr class="half-width">
<p>You can log-in to the remote server using the <a href="https://datacarpentry.org/cloud-genomics/02-logging-onto-cloud#logging-onto-a-cloud-instance" class="external-link">instructions
from the Introduction to Cloud Computing for Genomics lesson</a>. Your
instructor will supply to you the <code>ip_address</code> and password
that you need to login.</p>
<p>Each of you will have a different <code>ip_address</code>. This will
prevent us from accidentally changing each other’s files as we work
through the exercises. The password will be the same for everyone.</p>
<p>After logging in, you will see a screen showing something like
this:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Welcome to Ubuntu 20.04.5 LTS (GNU/Linux 5.4.0-137-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Mon 13 Mar 2023 03:57:46 AM UTC

  System load:  0.0                Processes:             192
  Usage of /:   20.3% of 98.27GB   Users logged in:       0
  Memory usage: 25%                IPv4 address for eth0: 172.31.12.214
  Swap usage:   0%

  Get cloud support with Ubuntu Advantage Cloud Guest:
    http://www.ubuntu.com/business/services/cloud

178 updates can be applied immediately.
108 of these updates are standard security updates.
To see these additional updates run: apt list --upgradable


Last login: Fri Mar 10 03:14:44 2023 from 72.83.168.14</code></pre>
</div>
<p>This provides a lot of information about the remote server that
you’re logging into. We’re not going to use most of this information for
our workshop, so you can clear your screen using the <code>clear</code>
command.</p>
<p>Type the word <code>clear</code> into the terminal and press the
<code>Enter</code> key.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> clear</span></code></pre>
</div>
<p>This will scroll your screen down to give you a fresh screen and will
make it easier to read. You haven’t lost any of the information on your
screen. If you scroll up, you can see everything that has been output to
your screen up until this point.</p>
<div id="tip" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tip" class="callout-inner">
<h3 class="callout-title">Tip</h3>
<div class="callout-content">
<p>Hot-key combinations are shortcuts for performing common commands.
The hot-key combination for clearing the console is <code>Ctrl+L</code>.
Feel free to try it and see for yourself.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="navigating-your-file-system">Navigating your file system<a class="anchor" aria-label="anchor" href="#navigating-your-file-system"></a>
</h2>
<hr class="half-width">
<p>The part of the operating system that manages files and directories
is called the <strong>file system</strong>. It organizes our data into
files, which hold information, and directories (also called “folders”),
which hold files or other directories.</p>
<p>Several commands are frequently used to create, inspect, rename, and
delete files and directories.</p>
<div id="preparation-magic" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="preparation-magic" class="callout-inner">
<h3 class="callout-title">Preparation Magic</h3>
<div class="callout-content">
<p>You may have a prompt (the characters to the left of the cursor) that
looks different from the <code>$</code> sign character used here. If you
would like to change your prompt to match the example prompt, first type
the command: <code>echo $PS1</code> into your shell, followed by
pressing the <kbd>Enter</kbd> key.</p>
<p>This will print the bash special characters that are currently
defining your prompt. To change the prompt to a <code>$</code> (followed
by a space), enter the command: <code>PS1='$ '</code> Your window should
look like our example in this lesson.</p>
<p>To change back to your original prompt, type in the output of the
previous command <code>echo $PS1</code> (this will be different
depending on the original configuration) between the quotes in the
following command: <code>PS1=""</code></p>
<p>For example, if the output of <code>echo $PS1</code> was
<code>\u@\h:\w $</code>, then type those characters between the quotes
in the above command: <code>PS1="\u@\h:\w $ "</code>. Alternatively, you
can reset your original prompt by exiting the shell and opening a new
session.</p>
<p>This isn’t necessary to follow along (in fact, your prompt may have
other helpful information you want to know about). This is up to
you!</p>
</div>
</div>
</div>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span></span></code></pre>
</div>
<p>The dollar sign is a <strong>prompt</strong>, which shows us that the
shell is waiting for input; your shell may use a different character as
a prompt and may add information before the prompt. When typing
commands, either from these lessons or from other sources, do not type
the prompt, only the commands that follow it.</p>
<p>Let’s find out where we are by running a command called
<code>pwd</code> (which stands for “print working directory”). At any
moment, our <strong>current working directory</strong> is our current
default directory, i.e., the directory that the computer assumes we want
to run commands in, unless we explicitly specify something else. Here,
the computer’s response is <code>/home/dcuser</code>, which is the top
level directory within our cloud system:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/home/dcuser</code></pre>
</div>
<p>Let’s look at how our file system is organized. We can see what files
and subdirectories are in this directory by running <code>ls</code>,
which stands for “listing”:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>R  r_data  shell_data</code></pre>
</div>
<p><code>ls</code> prints the names of the files and directories in the
current directory in alphabetical order, arranged neatly into columns.
We’ll be working within the <code>shell_data</code> subdirectory, and
creating new subdirectories, throughout this workshop.</p>
<p>The command to change locations in our file system is
<code>cd</code>, followed by a directory name to change our working
directory. <code>cd</code> stands for “change directory”.</p>
<p>Let’s say we want to navigate to the <code>shell_data</code>
directory we saw above. We can use the following command to get
there:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> cd shell_data</span></code></pre>
</div>
<p>Let’s look at what is in this directory:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sra_metadata  untrimmed_fastq</code></pre>
</div>
<p>We can make the <code>ls</code> output more comprehensible by using
the <strong>flag</strong> <code>-F</code>, which tells <code>ls</code>
to add a trailing <code>/</code> to the names of directories:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sra_metadata/  untrimmed_fastq/</code></pre>
</div>
<p>Anything with a “/” after it is a directory. Things with a “*” after
them are programs. If there are no decorations, it’s a file.</p>
<p><code>ls</code> has lots of other options. To find out what they are,
we can type:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> man ls</span></code></pre>
</div>
<p><code>man</code> (short for manual) displays detailed documentation
(also referred as man page or man file) for <code>bash</code> commands.
It is a powerful resource to explore <code>bash</code> commands,
understand their usage and flags. Some manual files are very long. You
can scroll through the file using your keyboard’s down arrow or use the
<kbd>Space</kbd> key to go forward one page and the <kbd>b</kbd> key to
go backwards one page. When you are done reading, hit <kbd>q</kbd> to
quit.</p>
<div id="challenge" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="challenge" class="callout-inner">
<h3 class="callout-title">Challenge</h3>
<div class="callout-content">
<p>Use the <code>-l</code> option for the <code>ls</code> command to
display more information for each item in the directory. What is one
piece of additional information this long format gives you that you
don’t see with the bare <code>ls</code> command?</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>total 8
drwxr-x--- 2 dcuser dcuser 4096 Jul 30  2015 sra_metadata
drwxr-xr-x 2 dcuser dcuser 4096 Nov 15  2017 untrimmed_fastq</code></pre>
</div>
<p>The additional information given includes the name of the owner of
the file, when the file was last modified, and whether the current user
has permission to read and write to the file.</p>
</div>
</div>
</div>
</div>
<p>No one can possibly learn all of these arguments, that’s what the
manual page is for. You can (and should) refer to the manual page or
other help files as needed.</p>
<p>Let’s go into the <code>untrimmed_fastq</code> directory and see what
is in there.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> cd untrimmed_fastq</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SRR097977.fastq  SRR098026.fastq</code></pre>
</div>
<p>This directory contains two files with <code>.fastq</code>
extensions. FASTQ is a format for storing information about sequencing
reads and their quality. We will be learning more about FASTQ files in a
later lesson.</p>
<div class="section level3">
<h3 id="shortcut-tab-completion">Shortcut: Tab Completion<a class="anchor" aria-label="anchor" href="#shortcut-tab-completion"></a>
</h3>
<p>Typing out file or directory names can waste a lot of time and it’s
easy to make typing mistakes. Instead we can use tab complete as a
shortcut. When you start typing out the name of a directory or file,
then hit the <kbd>Tab</kbd> key, the shell will try to fill in the rest
of the directory or file name.</p>
<p>Return to your home directory:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> cd</span></code></pre>
</div>
<p>then enter:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> cd she<span class="op">&lt;</span>tab<span class="op">&gt;</span></span></code></pre>
</div>
<p>The shell will fill in the rest of the directory name for
<code>shell_data</code>.</p>
<p>Now change directories to <code>untrimmed_fastq</code> in
<code>shell_data</code></p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> cd shell_data</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="ex">$</span> cd untrimmed_fastq</span></code></pre>
</div>
<p>Using tab complete can be very helpful. However, it will only
autocomplete a file or directory name if you’ve typed enough characters
to provide a unique identifier for the file or directory you are trying
to access.</p>
<p>For example, if we now try to list the files which names start with
<code>SR</code> by using tab complete:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> ls SR<span class="op">&lt;</span>tab<span class="op">&gt;</span></span></code></pre>
</div>
<p>The shell auto-completes your command to <code>SRR09</code>, because
all file names in the directory begin with this prefix. When you hit
<kbd>Tab</kbd> again, the shell will list the possible choices.</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span> ls SRR09<span class="op">&lt;</span>tab<span class="op">&gt;&lt;</span>tab<span class="op">&gt;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SRR097977.fastq  SRR098026.fastq</code></pre>
</div>
<p>Tab completion can also fill in the names of programs, which can be
useful if you remember the beginning of a program name.</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> pw<span class="op">&lt;</span>tab<span class="op">&gt;&lt;</span>tab<span class="op">&gt;</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>pwck      pwconv    pwd       pwdx      pwunconv</code></pre>
</div>
<p>Displays the name of every program that starts with
<code>pw</code>.</p>
</div>
</section><section><h2 class="section-heading" id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<hr class="half-width">
<p>We now know how to move around our file system using the command
line. This gives us an advantage over interacting with the file system
through a GUI as it allows us to work on a remote server, carry out the
same set of operations on a large number of files quickly, and opens up
many opportunities for using bioinformatic software that is only
available in command line versions.</p>
<p>In the next few episodes, we’ll be expanding on these skills and
seeing how using the command line shell enables us to make our workflow
more efficient and reproducible.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>The shell gives you the ability to work more efficiently by using
keyboard commands rather than a GUI.</li>
<li>Useful commands for navigating your file system include:
<code>ls</code>, <code>pwd</code>, and <code>cd</code>.</li>
<li>Most commands take options (flags) which begin with a
<code>-</code>.</li>
<li>Tab completion can reduce errors from mistyping and make work more
efficient in the shell.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-02-the-filesystem"><p>Content from <a href="02-the-filesystem.html">Navigating Files and Directories</a></p>
<hr>
<p>Last updated on 2023-05-08 |

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/02-the-filesystem.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I perform operations on files outside of my working
directory?</li>
<li>What are some navigational shortcuts I can use to make my work more
efficient?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use a single command to navigate multiple steps in your directory
structure, including moving backwards (one level up).</li>
<li>Perform operations on files in directories outside your working
directory.</li>
<li>Work with hidden directories and hidden files.</li>
<li>Interconvert between absolute and relative paths.</li>
<li>Employ navigational shortcuts to move around your file system.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="moving-around-the-file-system">Moving around the file system<a class="anchor" aria-label="anchor" href="#moving-around-the-file-system"></a>
</h2>
<hr class="half-width">
<p>We’ve learned how to use <code>pwd</code> to find our current
location within our file system. We’ve also learned how to use
<code>cd</code> to change locations and <code>ls</code> to list the
contents of a directory. Now we’re going to learn some additional
commands for moving around within our file system.</p>
<p>Use the commands we’ve learned so far to navigate to the
<code>shell_data/untrimmed_fastq</code> directory, if you’re not already
there.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> cd shell_data</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="ex">$</span> cd untrimmed_fastq</span></code></pre>
</div>
<p>What if we want to move back up and out of this directory and to our
top level directory? Can we type <code>cd shell_data</code>? Try it and
see what happens.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> cd shell_data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-bash: cd: shell_data: No such file or directory</code></pre>
</div>
<p>Your computer looked for a directory or file called
<code>shell_data</code> within the directory you were already in. It
didn’t know you wanted to look at a directory level above the one you
were located in.</p>
<p>We have a special command to tell the computer to move us back or up
one directory level.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> cd ..</span></code></pre>
</div>
<p>Now we can use <code>pwd</code> to make sure that we are in the
directory we intended to navigate to, and <code>ls</code> to check that
the contents of the directory are correct.</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/home/dcuser/shell_data</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sra_metadata  untrimmed_fastq</code></pre>
</div>
<p>From this output, we can see that <code>..</code> did indeed take us
back one level in our file system.</p>
<p>You can chain these together like so:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> ls ../../</span></code></pre>
</div>
<p>prints the contents of <code>/home</code>.</p>
<div id="finding-hidden-directories" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="finding-hidden-directories" class="callout-inner">
<h3 class="callout-title">Finding hidden directories</h3>
<div class="callout-content">
<p>First navigate to the <code>shell_data</code> directory. There is a
hidden directory within this directory. Explore the options for
<code>ls</code> to find out how to see hidden directories. List the
contents of the directory and identify the name of the text file in that
directory.</p>
<p>Hint: hidden files and folders in Unix start with <code>.</code>, for
example <code>.my_hidden_directory</code></p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>First use the <code>man</code> command to look at the options for
<code>ls</code>.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> man ls</span></code></pre>
</div>
<p>The <code>-a</code> option is short for <code>all</code> and says
that it causes <code>ls</code> to “not ignore entries starting with .”
This is the option we want.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-a</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>.  ..  .hidden	sra_metadata  untrimmed_fastq</code></pre>
</div>
<p>The name of the hidden directory is <code>.hidden</code>. We can
navigate to that directory using <code>cd</code>.</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> cd .hidden</span></code></pre>
</div>
<p>And then list the contents of the directory using
<code>ls</code>.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">youfoundit.txt</span></span></code></pre>
</div>
<p>The name of the text file is <code>youfoundit.txt</code>.</p>
</div>
</div>
</div>
</div>
<p>In most commands the flags can be combined together in no particular
order to obtain the desired results/output.</p>
<pre><code>$ ls -Fa
$ ls -laF</code></pre>
</section><section><h2 class="section-heading" id="examining-the-contents-of-other-directories">Examining the contents of other directories<a class="anchor" aria-label="anchor" href="#examining-the-contents-of-other-directories"></a>
</h2>
<hr class="half-width">
<p>By default, the <code>ls</code> commands lists the contents of the
working directory (i.e. the directory you are in). You can always find
the directory you are in using the <code>pwd</code> command. However,
you can also give <code>ls</code> the names of other directories to
view. Navigate to your home directory if you are not already there.</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> cd</span></code></pre>
</div>
<p>Then enter the command:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> ls shell_data</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>sra_metadata  untrimmed_fastq</code></pre>
</div>
<p>This will list the contents of the <code>shell_data</code> directory
without you needing to navigate there.</p>
<p>The <code>cd</code> command works in a similar way.</p>
<p>Try entering:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb20-2"><a href="#cb20-2" tabindex="-1"></a><span class="ex">$</span> cd shell_data/untrimmed_fastq</span></code></pre>
</div>
<p>This will take you to the <code>untrimmed_fastq</code> directory
without having to go through the intermediate directory.</p>
<div id="navigating-practice" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="navigating-practice" class="callout-inner">
<h3 class="callout-title">Navigating practice</h3>
<div class="callout-content">
<p>Navigate to your home directory. From there, list the contents of the
<code>untrimmed_fastq</code> directory.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="ex">$</span> ls shell_data/untrimmed_fastq/</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SRR097977.fastq  SRR098026.fastq </code></pre>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="full-vs--relative-paths">Full vs. Relative Paths<a class="anchor" aria-label="anchor" href="#full-vs--relative-paths"></a>
</h2>
<hr class="half-width">
<p>The <code>cd</code> command takes an argument which is a directory
name. Directories can be specified using either a <em>relative</em> path
or a full <em>absolute</em> path. The directories on the computer are
arranged into a hierarchy. The full path tells you where a directory is
in that hierarchy. Navigate to the home directory, then enter the
<code>pwd</code> command.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> cd  </span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="ex">$</span> pwd  </span></code></pre>
</div>
<p>You will see:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/home/dcuser</code></pre>
</div>
<p>This is the full name of your home directory. This tells you that you
are in a directory called <code>dcuser</code>, which sits inside a
directory called <code>home</code> which sits inside the very top
directory in the hierarchy. The very top of the hierarchy is a directory
called <code>/</code> which is usually referred to as the <em>root
directory</em>. So, to summarize: <code>dcuser</code> is a directory in
<code>home</code> which is a directory in <code>/</code>. More on
<code>root</code> and <code>home</code> in the next section.</p>
<p>Now enter the following command:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> cd /home/dcuser/shell_data/.hidden</span></code></pre>
</div>
<p>This jumps forward multiple levels to the <code>.hidden</code>
directory. Now go back to the home directory.</p>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">$</span> cd</span></code></pre>
</div>
<p>You can also navigate to the <code>.hidden</code> directory
using:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> cd shell_data/.hidden</span></code></pre>
</div>
<p>These two commands have the same effect, they both take us to the
<code>.hidden</code> directory. The first uses the absolute path, giving
the full address from the home directory. The second uses a relative
path, giving only the address from the working directory. A full path
always starts with a <code>/</code>. A relative path does not.</p>
<p>A relative path is like getting directions from someone on the
street. They tell you to “go right at the stop sign, and then turn left
on Main Street”. That works great if you’re standing there together, but
not so well if you’re trying to tell someone how to get there from
another country. A full path is like GPS coordinates. It tells you
exactly where something is no matter where you are right now.</p>
<p>You can usually use either a full path or a relative path depending
on what is most convenient. If we are in the home directory, it is more
convenient to enter the full path. If we are in the working directory,
it is more convenient to enter the relative path since it involves less
typing.</p>
<p>Over time, it will become easier for you to keep a mental note of the
structure of the directories that you are using and how to quickly
navigate amongst them.</p>
<div id="relative-path-resolution" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="relative-path-resolution" class="callout-inner">
<h3 class="callout-title">Relative path resolution</h3>
<div class="callout-content">
<p>Using the filesystem diagram below, if <code>pwd</code> displays
<code>/Users/thing</code>, what will <code>ls ../backup</code>
display?</p>
<ol style="list-style-type: decimal">
<li><code>../backup: No such file or directory</code></li>
<li><code>2012-12-01 2013-01-08 2013-01-27</code></li>
<li><code>2012-12-01/ 2013-01-08/ 2013-01-27/</code></li>
<li><code>original pnas_final pnas_sub</code></li>
</ol>
<figure><img src="fig/filesystem-challenge.svg" alt="File System for Challenge Questions" class="figure mx-auto d-block"></figure>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>No: there <em>is</em> a directory <code>backup</code> in
<code>/Users</code>.</li>
<li>No: this is the content of <code>Users/thing/backup</code>, but with
<code>..</code> we asked for one level further up.</li>
<li>No: see previous explanation. Also, we did not specify
<code>-F</code> to display <code>/</code> at the end of the directory
names.</li>
<li>Yes: <code>../backup</code> refers to
<code>/Users/backup</code>.</li>
</ol>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="navigational-shortcuts">Navigational Shortcuts<a class="anchor" aria-label="anchor" href="#navigational-shortcuts"></a>
</h3>
<p>The root directory is the highest level directory in your file system
and contains files that are important for your computer to perform its
daily work. While you will be using the root (<code>/</code>) at the
beginning of your absolute paths, it is important that you avoid working
with data in these higher-level directories, as your commands can
permanently alter files that the operating system needs to function. In
many cases, trying to run commands in <code>root</code> directories will
require special permissions which are not discussed here, so it’s best
to avoid them and work within your home directory. Dealing with the
<code>home</code> directory is very common. The tilde character,
<code>~</code>, is a shortcut for your home directory. In our case, the
<code>root</code> directory is <strong>two</strong> levels above our
<code>home</code> directory, so <code>cd</code> or <code>cd ~</code>
will take you to <code>/home/dcuser</code> and <code>cd /</code> will
take you to <code>/</code>. Navigate to the <code>shell_data</code>
directory:</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="ex">$</span> cd shell_data</span></code></pre>
</div>
<p>Then enter the command:</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="ex">$</span> ls ~</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>R  r_data  shell_data</code></pre>
</div>
<p>This prints the contents of your home directory, without you needing
to type the full path.</p>
<p>The commands <code>cd</code>, and <code>cd ~</code> are very useful
for quickly navigating back to your home directory. We will be using the
<code>~</code> character in later lessons to specify our home
directory.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>The <code>/</code>, <code>~</code>, and <code>..</code> characters
represent important navigational shortcuts.</li>
<li>Hidden files and directories start with <code>.</code> and can be
viewed using <code>ls -a</code>.</li>
<li>Relative paths specify a location starting from the current
location, while absolute paths specify a location from the root of the
file system.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-03-working-with-files"><p>Content from <a href="03-working-with-files.html">Working with Files and Directories</a></p>
<hr>
<p>Last updated on 2023-05-08 |

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/03-working-with-files.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I view and search file contents?</li>
<li>How can I create, copy and delete files and directories?</li>
<li>How can I control who has permission to modify a file?</li>
<li>How can I repeat recently used commands?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>View, search within, copy, move, and rename files. Create new
directories.</li>
<li>Use wildcards (<code>*</code>) to perform operations on multiple
files.</li>
<li>Make a file read only.</li>
<li>Use the <code>history</code> command to view and repeat recently
used commands.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="working-with-files">Working with Files<a class="anchor" aria-label="anchor" href="#working-with-files"></a>
</h2>
<hr class="half-width">
<div class="section level3">
<h3 id="our-data-set-fastq-files">Our data set: FASTQ files<a class="anchor" aria-label="anchor" href="#our-data-set-fastq-files"></a>
</h3>
<p>Now that we know how to navigate around our directory structure,
let’s start working with our sequencing files. We did a sequencing
experiment and have two results files, which are stored in our
<code>untrimmed_fastq</code> directory.</p>
</div>
<div class="section level3">
<h3 id="wildcards">Wildcards<a class="anchor" aria-label="anchor" href="#wildcards"></a>
</h3>
<p>Navigate to your <code>untrimmed_fastq</code> directory:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd ~/shell_data/untrimmed_fastq</span></code></pre>
</div>
<p>We are interested in looking at the FASTQ files in this directory. We
can list all files with the .fastq extension using the command:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SRR097977.fastq  SRR098026.fastq</code></pre>
</div>
<p>The <code>*</code> character is a special type of character called a
wildcard, which can be used to represent any number of any type of
character. Thus, <code>*.fastq</code> matches every file that ends with
<code>.fastq</code>.</p>
<p>This command:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>977.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">SRR097977.fastq</span></span></code></pre>
</div>
<p>lists only the file that ends with <code>977.fastq</code>.</p>
<p>This command:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls /usr/bin/<span class="pp">*</span>.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/usr/bin/amuFormat.sh  /usr/bin/gettext.sh  /usr/bin/gvmap.sh</code></pre>
</div>
<p>Lists every file in <code>/usr/bin</code> that ends in the characters
<code>.sh</code>. Note that the output displays <strong>full</strong>
paths to files, since each result starts with <code>/</code>.</p>
<div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Do each of the following tasks from your current directory using a
single <code>ls</code> command for each:</p>
<ol style="list-style-type: decimal">
<li>List all of the files in <code>/usr/bin</code> that start with the
letter ‘c’.</li>
<li>List all of the files in <code>/usr/bin</code> that contain the
letter ‘a’.</li>
<li>List all of the files in <code>/usr/bin</code> that end with the
letter ‘o’.</li>
</ol>
<p>Bonus: List all of the files in <code>/usr/bin</code> that contain
the letter ‘a’ or the letter ‘c’.</p>
<p>Hint: The bonus question requires a Unix wildcard that we haven’t
talked about yet. Try searching the internet for information about Unix
wildcards to find what you need to solve the bonus problem.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><code>ls /usr/bin/c*</code></li>
<li><code>ls /usr/bin/*a*</code></li>
<li>
<code>ls /usr/bin/*o</code><br>
Bonus: <code>ls /usr/bin/*[ac]*</code>
</li>
</ol>
</div>
</div>
</div>
</div>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p><code>echo</code> is a built-in shell command that writes its
arguments, like a line of text to standard output. The <code>echo</code>
command can also be used with pattern matching characters, such as
wildcard characters. Here we will use the <code>echo</code> command to
see how the wildcard character is interpreted by the shell.</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> echo <span class="pp">*</span>.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SRR097977.fastq SRR098026.fastq</code></pre>
</div>
<p>The <code>*</code> is expanded to include any file that ends with
<code>.fastq</code>. We can see that the output of
<code>echo *.fastq</code> is the same as that of
<code>ls *.fastq</code>.</p>
<p>What would the output look like if the wildcard could <em>not</em> be
matched? Compare the outputs of <code>echo *.missing</code> and
<code>ls *.missing</code>.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> echo <span class="pp">*</span>.missing</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>*.missing</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>.missing</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>ls: cannot access '*.missing': No such file or directory</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="command-history">Command History<a class="anchor" aria-label="anchor" href="#command-history"></a>
</h2>
<hr class="half-width">
<p>If you want to repeat a command that you’ve run recently, you can
access previous commands using the up arrow on your keyboard to go back
to the most recent command. Likewise, the down arrow takes you forward
in the command history.</p>
<p>A few more useful shortcuts:</p>
<ul>
<li>
<kbd>Ctrl</kbd>+<kbd>C</kbd> will cancel the command you are
writing, and give you a fresh prompt.</li>
<li>
<kbd>Ctrl</kbd>+<kbd>R</kbd> will do a reverse-search through your
command history. This is very useful.</li>
<li>
<kbd>Ctrl</kbd>+<kbd>L</kbd> or the <code>clear</code> command will
clear your screen.</li>
</ul>
<p>You can also review your recent commands with the
<code>history</code> command, by entering:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> history</span></code></pre>
</div>
<p>to see a numbered list of recent commands. You can reuse one of these
commands directly by referring to the number of that command.</p>
<p>For example, if your history looked like this:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>259  ls *
260  ls /usr/bin/*.sh
261  ls *R1*fastq</code></pre>
</div>
<p>then you could repeat command #260 by entering:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="ex">$</span> !260</span></code></pre>
</div>
<p>Type <code>!</code> (exclamation point) and then the number of the
command from your history. You will be glad you learned this when you
need to re-run very complicated commands. For more information on
advanced usage of <code>history</code>, read section 9.3 of <a href="https://www.gnu.org/software/bash/manual/html_node/index.html" class="external-link">Bash
manual</a>.</p>
<div id="exercise-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-2" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Find the line number in your history for the command that listed all
the .sh files in <code>/usr/bin</code>. Rerun that command.</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>First type <code>history</code>. Then use <code>!</code> followed by
the line number to rerun that command.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="examining-files">Examining Files<a class="anchor" aria-label="anchor" href="#examining-files"></a>
</h2>
<hr class="half-width">
<p>We now know how to switch directories, run programs, and look at the
contents of directories, but how do we look at the contents of
files?</p>
<p>One way to examine a file is to print out all of the contents using
the program <code>cat</code>.</p>
<p>Enter the following command from within the
<code>untrimmed_fastq</code> directory:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> cat SRR098026.fastq</span></code></pre>
</div>
<p>This will print out all of the contents of the
<code>SRR098026.fastq</code> to the screen.</p>
<div id="exercise-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-3" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Print out the contents of the
<code>~/shell_data/untrimmed_fastq/SRR097977.fastq</code> file. What is
the last line of the file?</li>
<li>From your home directory, and without changing directories, use one
short command to print the contents of all of the files in the
<code>~/shell_data/untrimmed_fastq</code> directory.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li>The last line of the file is
<code>C:CCC::CCCCCCCC&lt;8?6A:C28C&lt;608'&amp;&amp;&amp;,'$</code>.</li>
<li><code>cat ~/shell_data/untrimmed_fastq/*</code></li>
</ol>
</div>
</div>
</div>
</div>
<p><code>cat</code> is a terrific program, but when the file is really
big, it can be annoying to use. The program, <code>less</code>, is
useful for this case. <code>less</code> opens the file as read only, and
lets you navigate through it. The navigation commands are identical to
the <code>man</code> program.</p>
<p>Enter the following command:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> less SRR097977.fastq</span></code></pre>
</div>
<p>Some navigation commands in <code>less</code>:</p>
<table class="table">
<colgroup>
<col width="4%">
<col width="95%">
</colgroup>
<thead><tr class="header">
<th>key</th>
<th>action</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><kbd>Space</kbd></td>
<td>to go forward</td>
</tr>
<tr class="even">
<td><kbd>b</kbd></td>
<td>to go backward</td>
</tr>
<tr class="odd">
<td><kbd>g</kbd></td>
<td>to go to the beginning</td>
</tr>
<tr class="even">
<td><kbd>G</kbd></td>
<td>to go to the end</td>
</tr>
<tr class="odd">
<td><kbd>q</kbd></td>
<td>to quit</td>
</tr>
</tbody>
</table>
<p><code>less</code> also gives you a way of searching through files.
Use the “/” key to begin a search. Enter the word you would like to
search for and press <code>enter</code>. The screen will jump to the
next location where that word is found.</p>
<p><strong>Shortcut:</strong> If you hit “/” then “enter”,
<code>less</code> will repeat the previous search. <code>less</code>
searches from the current location and works its way forward. Scroll up
a couple lines on your terminal to verify you are at the beginning of
the file. Note, if you are at the end of the file and search for the
sequence “CAA”, <code>less</code> will not find it. You either need to
go to the beginning of the file (by typing <code>g</code>) and search
again using <code>/</code> or you can use <code>?</code> to search
backwards in the same way you used <code>/</code> previously.</p>
<p>For instance, let’s search forward for the sequence
<code>TTTTT</code> in our file. You can see that we go right to that
sequence, what it looks like, and where it is in the file. If you
continue to type <code>/</code> and hit return, you will move forward to
the next instance of this sequence motif. If you instead type
<code>?</code> and hit return, you will search backwards and move up the
file to previous examples of this motif.</p>
<div id="exercise-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-4" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>What are the next three nucleotides (characters) after the first
instance of the sequence quoted above?</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<p><code>CAC</code></p>
</div>
</div>
</div>
</div>
<p>Remember, the <code>man</code> program actually uses
<code>less</code> internally and therefore uses the same commands, so
you can search documentation using “/” as well!</p>
<p>There’s another way that we can look at files, and in this case, just
look at part of them. This can be particularly useful if we just want to
see the beginning or end of the file, or see how it’s formatted.</p>
<p>The commands are <code>head</code> and <code>tail</code> and they let
you look at the beginning and end of a file, respectively.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> head SRR098026.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>@SRR098026.1 HWUSI-EAS1599_1:2:1:0:968 length=35
NNNNNNNNNNNNNNNNCNNNNNNNNNNNNNNNNNN
+SRR098026.1 HWUSI-EAS1599_1:2:1:0:968 length=35
!!!!!!!!!!!!!!!!#!!!!!!!!!!!!!!!!!!
@SRR098026.2 HWUSI-EAS1599_1:2:1:0:312 length=35
NNNNNNNNNNNNNNNNANNNNNNNNNNNNNNNNNN
+SRR098026.2 HWUSI-EAS1599_1:2:1:0:312 length=35
!!!!!!!!!!!!!!!!#!!!!!!!!!!!!!!!!!!
@SRR098026.3 HWUSI-EAS1599_1:2:1:0:570 length=35
NNNNNNNNNNNNNNNNANNNNNNNNNNNNNNNNNN</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> tail SRR098026.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>+SRR098026.247 HWUSI-EAS1599_1:2:1:2:1311 length=35
#!##!#################!!!!!!!######
@SRR098026.248 HWUSI-EAS1599_1:2:1:2:118 length=35
GNTGNGGTCATCATACGCGCCCNNNNNNNGGCATG
+SRR098026.248 HWUSI-EAS1599_1:2:1:2:118 length=35
B!;?!A=5922:##########!!!!!!!######
@SRR098026.249 HWUSI-EAS1599_1:2:1:2:1057 length=35
CNCTNTATGCGTACGGCAGTGANNNNNNNGGAGAT
+SRR098026.249 HWUSI-EAS1599_1:2:1:2:1057 length=35
A!@B!BBB@ABAB#########!!!!!!!######</code></pre>
</div>
<p>The <code>-n</code> option to either of these commands can be used to
print the first or last <code>n</code> lines of a file.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 1 SRR098026.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>@SRR098026.1 HWUSI-EAS1599_1:2:1:0:968 length=35</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> tail <span class="at">-n</span> 1 SRR098026.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>A!@B!BBB@ABAB#########!!!!!!!######</code></pre>
</div>
</section><section><h2 class="section-heading" id="details-on-the-fastq-format">Details on the FASTQ format<a class="anchor" aria-label="anchor" href="#details-on-the-fastq-format"></a>
</h2>
<hr class="half-width">
<p>Although it looks complicated (and it is), it’s easy to understand
the <a href="https://en.wikipedia.org/wiki/FASTQ_format" class="external-link">fastq</a>
format with a little decoding. Some rules about the format include…</p>
<table class="table">
<colgroup>
<col width="4%">
<col width="95%">
</colgroup>
<thead><tr class="header">
<th>Line</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>Always begins with ‘@’ and then information about the read</td>
</tr>
<tr class="even">
<td>2</td>
<td>The actual DNA sequence</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Always begins with a ‘+’ and sometimes the same info in line 1</td>
</tr>
<tr class="even">
<td>4</td>
<td>Has a string of characters which represent the quality scores; must
have same number of characters as line 2</td>
</tr>
</tbody>
</table>
<p>We can view the first complete read in one of the files in our
dataset by using <code>head</code> to look at the first four lines.</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> head <span class="at">-n</span> 4 SRR098026.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>@SRR098026.1 HWUSI-EAS1599_1:2:1:0:968 length=35
NNNNNNNNNNNNNNNNCNNNNNNNNNNNNNNNNNN
+SRR098026.1 HWUSI-EAS1599_1:2:1:0:968 length=35
!!!!!!!!!!!!!!!!#!!!!!!!!!!!!!!!!!!</code></pre>
</div>
<p>All but one of the nucleotides in this read are unknown
(<code>N</code>). This is a pretty bad read!</p>
<p>Line 4 shows the quality for each nucleotide in the read. Quality is
interpreted as the probability of an incorrect base call (e.g. 1 in 10)
or, equivalently, the base call accuracy (e.g. 90%). To make it possible
to line up each individual nucleotide with its quality score, the
numerical score is converted into a code where each individual character
represents the numerical quality score for an individual nucleotide. For
example, in the line above, the quality score line is:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>!!!!!!!!!!!!!!!!#!!!!!!!!!!!!!!!!!!</code></pre>
</div>
<p>The <code>#</code> character and each of the <code>!</code>
characters represent the encoded quality for an individual nucleotide.
The numerical value assigned to each of these characters depends on the
sequencing platform that generated the reads. The sequencing machine
used to generate our data uses the standard Sanger quality PHRED score
encoding, Illumina version 1.8 onwards. Each character is assigned a
quality score between 0 and 42 as shown in the chart below.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Quality encoding: !"#$%&amp;'()*+,-./0123456789:;&lt;=&gt;?@ABCDEFGHIJK
                  |         |         |         |         |
Quality score:    0........10........20........30........40..                          </code></pre>
</div>
<p>Each quality score represents the probability that the corresponding
nucleotide call is incorrect. This quality score is logarithmically
based, so a quality score of 10 reflects a base call accuracy of 90%,
but a quality score of 20 reflects a base call accuracy of 99%. These
probability values are the results from the base calling algorithm and
dependent on how much signal was captured for the base
incorporation.</p>
<p>Looking back at our read:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>@SRR098026.1 HWUSI-EAS1599_1:2:1:0:968 length=35
NNNNNNNNNNNNNNNNCNNNNNNNNNNNNNNNNNN
+SRR098026.1 HWUSI-EAS1599_1:2:1:0:968 length=35
!!!!!!!!!!!!!!!!#!!!!!!!!!!!!!!!!!!</code></pre>
</div>
<p>we can now see that the quality of each of the <code>N</code>s is 0
and the quality of the only nucleotide call (<code>C</code>) is also
very poor (<code>#</code> = a quality score of 2). This is indeed a very
bad read.</p>
</section><section><h2 class="section-heading" id="creating-moving-copying-and-removing">Creating, moving, copying, and removing<a class="anchor" aria-label="anchor" href="#creating-moving-copying-and-removing"></a>
</h2>
<hr class="half-width">
<p>Now we can move around in the file structure, look at files, and
search files. But what if we want to copy files or move them around or
get rid of them? Most of the time, you can do these sorts of file
manipulations without the command line, but there will be some cases
(like when you’re working with a remote computer like we are for this
lesson) where it will be impossible. You’ll also find that you may be
working with hundreds of files and want to do similar manipulations to
all of those files. In cases like this, it’s much faster to do these
operations at the command line.</p>
<div class="section level3">
<h3 id="copying-files">Copying Files<a class="anchor" aria-label="anchor" href="#copying-files"></a>
</h3>
<p>When working with computational data, it’s important to keep a safe
copy of that data that can’t be accidentally overwritten or deleted. For
this lesson, our raw data is our FASTQ files. We don’t want to
accidentally change the original files, so we’ll make a copy of them and
change the file permissions so that we can read from, but not write to,
the files.</p>
<p>First, let’s make a copy of one of our FASTQ files using the
<code>cp</code> command.</p>
<p>Navigate to the <code>shell_data/untrimmed_fastq</code> directory and
enter:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> cp SRR098026.fastq SRR098026-copy.fastq</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-F</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>SRR097977.fastq  SRR098026-copy.fastq  SRR098026.fastq</code></pre>
</div>
<p>We now have two copies of the <code>SRR098026.fastq</code> file, one
of them named <code>SRR098026-copy.fastq</code>. We’ll move this file to
a new directory called <code>backup</code> where we’ll store our backup
data files.</p>
</div>
<div class="section level3">
<h3 id="creating-directories">Creating Directories<a class="anchor" aria-label="anchor" href="#creating-directories"></a>
</h3>
<p>The <code>mkdir</code> command is used to make a directory. Enter
<code>mkdir</code> followed by a space, then the directory name you want
to create:</p>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="ex">$</span> mkdir backup</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="moving-renaming">Moving / Renaming<a class="anchor" aria-label="anchor" href="#moving-renaming"></a>
</h3>
<p>We can now move our backup file to this directory. We can move files
around using the command <code>mv</code>:</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> mv SRR098026-copy.fastq backup</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="ex">$</span> ls backup</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">SRR098026</span><span class="op">-</span><span class="va">copy.fastq</span></span></code></pre>
</div>
<p>The <code>mv</code> command is also how you rename files. Let’s
rename this file to make it clear that this is a backup:</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> cd backup</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="ex">$</span> mv SRR098026-copy.fastq SRR098026-backup.fastq</span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">SRR098026</span><span class="op">-</span><span class="va">backup.fastq</span></span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="file-permissions">File Permissions<a class="anchor" aria-label="anchor" href="#file-permissions"></a>
</h3>
<p>We’ve now made a backup copy of our file, but just because we have
two copies, it doesn’t make us safe. We can still accidentally delete or
overwrite both copies. To make sure we can’t accidentally mess up this
backup file, we’re going to change the permissions on the file so that
we’re only allowed to read (i.e. view) the file, not write to it
(i.e. make new changes).</p>
<p>View the current permissions on a file using the <code>-l</code>
(long) flag for the <code>ls</code> command:</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-rw-r--r-- 1 dcuser dcuser 43332 Nov 15 23:02 SRR098026-backup.fastq</code></pre>
</div>
<p>The first part of the output for the <code>-l</code> flag gives you
information about the file’s current permissions. There are ten slots in
the permissions list. The first character in this list is related to
file type, not permissions, so we’ll ignore it for now. The next three
characters relate to the permissions that the file owner has, the next
three relate to the permissions for group members, and the final three
characters specify what other users outside of your group can do with
the file. We’re going to concentrate on the three positions that deal
with your permissions (as the file owner).</p>
<figure><img src="fig/rwx_figure.svg" alt="Permissions breakdown" class="figure mx-auto d-block"></figure><p>Here the three positions that relate to the file owner are
<code>rw-</code>. The <code>r</code> means that you have permission to
read the file, the <code>w</code> indicates that you have permission to
write to (i.e. make changes to) the file, and the third position is a
<code>-</code>, indicating that you don’t have permission to carry out
the ability encoded by that space (this is the space where
<code>x</code> or executable ability is stored, we’ll talk more about
this in <a href="05-writing-scripts.html">a later lesson</a>).</p>
<p>Our goal for now is to change permissions on this file so that you no
longer have <code>w</code> or write permissions. We can do this using
the <code>chmod</code> (change mode) command and subtracting
(<code>-</code>) the write permission <code>-w</code>.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> chmod <span class="at">-w</span> SRR098026-backup.fastq</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-r--r--r-- 1 dcuser dcuser 43332 Nov 15 23:02 SRR098026-backup.fastq</code></pre>
</div>
</div>
<div class="section level3">
<h3 id="removing">Removing<a class="anchor" aria-label="anchor" href="#removing"></a>
</h3>
<p>To prove to ourselves that you no longer have the ability to modify
this file, try deleting it with the <code>rm</code> command:</p>
<div class="codewrapper sourceCode" id="cb43">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb43-1"><a href="#cb43-1" tabindex="-1"></a><span class="ex">$</span> rm SRR098026-backup.fastq</span></code></pre>
</div>
<p>You’ll be asked if you want to override your file permissions:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>rm: remove write-protected regular file ‘SRR098026-backup.fastq'? </code></pre>
</div>
<p>You should enter <code>n</code> for no. If you enter <code>n</code>
(for no), the file will not be deleted. If you enter <code>y</code>, you
will delete the file. This gives us an extra measure of security, as
there is one more step between us and deleting our data files.</p>
<p><strong>Important</strong>: The <code>rm</code> command permanently
removes the file. Be careful with this command. It doesn’t just nicely
put the files in the Trash. They’re really gone.</p>
<p>By default, <code>rm</code> will not delete directories. You can tell
<code>rm</code> to delete a directory using the <code>-r</code>
(recursive) option. Let’s delete the backup directory we just made.</p>
<p>Enter the following command:</p>
<div class="codewrapper sourceCode" id="cb45">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb45-1"><a href="#cb45-1" tabindex="-1"></a><span class="ex">$</span> cd ..</span>
<span id="cb45-2"><a href="#cb45-2" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-r</span> backup</span></code></pre>
</div>
<p>This will delete not only the directory, but all files within the
directory. If you have write-protected files in the directory, you will
be asked whether you want to override your permission settings.</p>
<div id="exercise-5" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-5" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Starting in the <code>shell_data/untrimmed_fastq/</code> directory,
do the following:</p>
<ol style="list-style-type: decimal">
<li>Make sure that you have deleted your backup directory and all files
it contains.</li>
<li>Create a backup of each of your FASTQ files using <code>cp</code>.
(Note: You’ll need to do this individually for each of the two FASTQ
files. We haven’t learned yet how to do this with a wildcard.)</li>
<li>Use a wildcard to move all of your backup files to a new backup
directory.</li>
<li>Change the permissions on all of your backup files to be
write-protected.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution6" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution6" aria-expanded="false" aria-controls="collapseSolution6">
  <h4 class="accordion-header" id="headingSolution6"> Show me the solution </h4>
</button>
<div id="collapseSolution6" class="accordion-collapse collapse" data-bs-parent="#accordionSolution6" aria-labelledby="headingSolution6">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><code>rm -r backup</code></li>
<li>
<code>cp SRR098026.fastq SRR098026-backup.fastq</code> and
<code>cp SRR097977.fastq SRR097977-backup.fastq</code>
</li>
<li>
<code>mkdir backup</code> and
<code>mv *-backup.fastq backup</code>
</li>
<li>
<code>chmod -w backup/*-backup.fastq</code><br>
It’s always a good idea to check your work with
<code>ls -l backup</code>. You should see something like:</li>
</ol>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-r--r--r-- 1 dcuser dcuser 47552 Nov 15 23:06 SRR097977-backup.fastq
-r--r--r-- 1 dcuser dcuser 43332 Nov 15 23:06 SRR098026-backup.fastq</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>You can view file contents using <code>less</code>,
<code>cat</code>, <code>head</code> or <code>tail</code>.</li>
<li>The commands <code>cp</code>, <code>mv</code>, and
<code>mkdir</code> are useful for manipulating existing files and
creating new directories.</li>
<li>You can view file permissions using <code>ls -l</code> and change
permissions using <code>chmod</code>.</li>
<li>The <code>history</code> command and the up arrow on your keyboard
can be used to repeat recently used commands.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section><section id="aio-04-redirection"><p>Content from <a href="04-redirection.html">Redirection</a></p>
<hr>
<p>Last updated on 2024-03-14 |

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/04-redirection.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I search within files?</li>
<li>How can I combine existing commands to do new things?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Employ the <code>grep</code> command to search for information
within files.</li>
<li>Print the results of a command to a file.</li>
<li>Construct command pipelines with two or more stages.</li>
<li>Use <code>for</code> loops to run the same command for several input
files.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="searching-files">Searching files<a class="anchor" aria-label="anchor" href="#searching-files"></a>
</h2>
<hr class="half-width">
<p>We discussed in a previous episode how to search within a file using
<code>less</code>. We can also search within files without even opening
them, using <code>grep</code>. <code>grep</code> is a command-line
utility for searching plain-text files for lines matching a specific set
of characters (sometimes called a string) or a particular pattern (which
can be specified using something called regular expressions). We’re not
going to work with regular expressions in this lesson, and are instead
going to specify the strings we are searching for. Let’s give it a
try!</p>
<div id="nucleotide-abbreviations" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="nucleotide-abbreviations" class="callout-inner">
<h3 class="callout-title">Nucleotide abbreviations</h3>
<div class="callout-content">
<p>The four nucleotides that appear in DNA are abbreviated
<code>A</code>, <code>C</code>, <code>T</code> and <code>G</code>.
Unknown nucleotides are represented with the letter <code>N</code>. An
<code>N</code> appearing in a sequencing file represents a position
where the sequencing machine was not able to confidently determine the
nucleotide in that position. You can think of an <code>N</code> as being
aNy nucleotide at that position in the DNA sequence.</p>
</div>
</div>
</div>
<p>We’ll search for strings inside of our fastq files. Let’s first make
sure we are in the correct directory:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd ~/shell_data/untrimmed_fastq</span></code></pre>
</div>
<p>Suppose we want to see how many reads in our file have really bad
segments containing 10 consecutive unknown nucleotides (Ns).</p>
<div id="determining-quality" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="determining-quality" class="callout-inner">
<h3 class="callout-title">Determining quality</h3>
<div class="callout-content">
<p>In this lesson, we’re going to be manually searching for strings of
<code>N</code>s within our sequence results to illustrate some
principles of file searching. It can be really useful to do this type of
searching to get a feel for the quality of your sequencing results,
however, in your research you will most likely use a bioinformatics tool
that has a built-in program for filtering out low-quality reads. You’ll
learn how to use one such tool in <a href="https://datacarpentry.org/wrangling-genomics/02-quality-control" class="external-link">a
later lesson</a>.</p>
</div>
</div>
</div>
<p>Let’s search for the string NNNNNNNNNN in the SRR098026 file:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> grep NNNNNNNNNN SRR098026.fastq</span></code></pre>
</div>
<p>This command returns a lot of output to the terminal. Every single
line in the SRR098026 file that contains at least 10 consecutive Ns is
printed to the terminal, regardless of how long or short the file is. We
may be interested not only in the actual sequence which contains this
string, but in the name (or identifier) of that sequence. We discussed
in a previous lesson that the identifier line immediately precedes the
nucleotide sequence for each read in a FASTQ file. We may also want to
inspect the quality scores associated with each of these reads. To get
all of this information, we will return the line immediately before each
match and the two lines immediately after each match.</p>
<p>We can use the <code>-B</code> argument for grep to return a specific
number of lines before each match. The <code>-A</code> argument returns
a specific number of lines after each matching line. Here we want the
line <em>before</em> and the two lines <em>after</em> each matching
line, so we add <code>-B1 -A2</code> to our grep command:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq</span></code></pre>
</div>
<p>One of the sets of lines returned by this command is:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>@SRR098026.177 HWUSI-EAS1599_1:2:1:1:2025 length=35
CNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
+SRR098026.177 HWUSI-EAS1599_1:2:1:1:2025 length=35
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</code></pre>
</div>
<div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li><p>Search for the sequence <code>GNATNACCACTTCC</code> in the
<code>SRR098026.fastq</code> file. Have your search return all matching
lines and the name (or identifier) for each sequence that contains a
match.</p></li>
<li><p>Search for the sequence <code>AAGTT</code> in both FASTQ files.
Have your search return all matching lines and the name (or identifier)
for each sequence that contains a match.</p></li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ol style="list-style-type: decimal">
<li><code>grep -B1 GNATNACCACTTCC SRR098026.fastq</code></li>
</ol>
<pre><code>@SRR098026.245 HWUSI-EAS1599_1:2:1:2:801 length=35
GNATNACCACTTCCAGTGCTGANNNNNNNGGGATG</code></pre>
<ol start="2" style="list-style-type: decimal">
<li><code>grep -B1 AAGTT *.fastq</code></li>
</ol>
<pre><code>SRR097977.fastq-@SRR097977.11 209DTAAXX_Lenski2_1_7:8:3:247:351 length=36
SRR097977.fastq:GATTGCTTTAATGAAAAAGTCATATAAGTTGCCATG
--
SRR097977.fastq-@SRR097977.67 209DTAAXX_Lenski2_1_7:8:3:544:566 length=36
SRR097977.fastq:TTGTCCACGCTTTTCTATGTAAAGTTTATTTGCTTT
--
SRR097977.fastq-@SRR097977.68 209DTAAXX_Lenski2_1_7:8:3:724:110 length=36
SRR097977.fastq:TGAAGCCTGCTTTTTTATACTAAGTTTGCATTATAA
--
SRR097977.fastq-@SRR097977.80 209DTAAXX_Lenski2_1_7:8:3:258:281 length=36
SRR097977.fastq:GTGGCGCTGCTGCATAAGTTGGGTTATCAGGTCGTT
--
SRR097977.fastq-@SRR097977.92 209DTAAXX_Lenski2_1_7:8:3:353:318 length=36
SRR097977.fastq:GGCAAAATGGTCCTCCAGCCAGGCCAGAAGCAAGTT
--
SRR097977.fastq-@SRR097977.139 209DTAAXX_Lenski2_1_7:8:3:703:655 length=36
SRR097977.fastq:TTTATTTGTAAAGTTTTGTTGAAATAAGGGTTGTAA
--
SRR097977.fastq-@SRR097977.238 209DTAAXX_Lenski2_1_7:8:3:592:919 length=36
SRR097977.fastq:TTCTTACCATCCTGAAGTTTTTTCATCTTCCCTGAT
--
SRR098026.fastq-@SRR098026.158 HWUSI-EAS1599_1:2:1:1:1505 length=35
SRR098026.fastq:GNNNNNNNNCAAAGTTGATCNNNNNNNNNTGTGCG</code></pre>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="redirecting-output">Redirecting output<a class="anchor" aria-label="anchor" href="#redirecting-output"></a>
</h2>
<hr class="half-width">
<p><code>grep</code> allowed us to identify sequences in our FASTQ files
that match a particular pattern. All of these sequences were printed to
our terminal screen, but in order to work with these sequences and
perform other operations on them, we will need to capture that output in
some way.</p>
<p>We can do this with something called “redirection”. The idea is that
we are taking what would ordinarily be printed to the terminal screen
and redirecting it to another location. In our case, we want to print
this information to a file so that we can look at it later and use other
commands to analyze this data.</p>
<p>The command for redirecting output to a file is
<code>&gt;</code>.</p>
<p>Let’s try out this command and copy all the records (including all
four lines of each record) in our FASTQ files that contain ‘NNNNNNNNNN’
to another file called <code>bad_reads.txt</code>.</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq <span class="op">&gt;</span> bad_reads.txt</span></code></pre>
</div>
<div id="file-extensions" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="file-extensions" class="callout-inner">
<h3 class="callout-title">File extensions</h3>
<div class="callout-content">
<p>You might be confused about why we’re naming our output file with a
<code>.txt</code> extension. After all, it will be holding FASTQ
formatted data that we’re extracting from our FASTQ files. Won’t it also
be a FASTQ file? The answer is, yes - it will be a FASTQ file and it
would make sense to name it with a <code>.fastq</code> extension.
However, using a <code>.fastq</code> extension will lead us to problems
when we move to using wildcards later in this episode. We’ll point out
where this becomes important. For now, it’s good that you’re thinking
about file extensions!</p>
</div>
</div>
</div>
<p>The prompt should sit there a little bit, and then it should look
like nothing happened. But type <code>ls</code>. You should see a new
file called <code>bad_reads.txt</code>.</p>
<p>We can check the number of lines in our new file using a command
called <code>wc</code>. <code>wc</code> stands for <strong>word
count</strong>. This command counts the number of words, lines, and
characters in a file. The FASTQ file may change over time, so given the
potential for updates, make sure your file matches your instructor’s
output.</p>
<p>As of Sept. 2020, wc gives the following output:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> wc bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>  802    1338   24012 bad_reads.txt</code></pre>
</div>
<p>This will tell us the number of lines, words and characters in the
file. If we want only the number of lines, we can use the
<code>-l</code> flag for <code>lines</code>.</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>802 bad_reads.txt</code></pre>
</div>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>How many sequences are there in <code>SRR098026.fastq</code>?
Remember that every sequence is formed by four lines.</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> SRR098026.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">996</span></span></code></pre>
</div>
<p>Now you can divide this number by four to get the number of sequences
in your fastq file.</p>
<p>This can be done using <a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Arithmetic.html" class="external-link">shell
integer arithmetic</a></p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> echo <span class="va">$((</span><span class="dv">996</span><span class="op">/</span><span class="dv">4</span><span class="va">))</span></span></code></pre>
</div>
<p>Note, this will do integer division - if you need floating point
arithmetic you can use <a href="https://www.gnu.org/software/bc/manual/html_mono/bc.html" class="external-link">bc - an
arbitrary precision calculator</a></p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> echo <span class="st">"996/4"</span> <span class="kw">|</span> <span class="fu">bc</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">249</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="exercise-2" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-2" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>How many sequences in <code>SRR098026.fastq</code> contain at least 3
consecutive Ns?</p>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> grep NNN SRR098026.fastq <span class="op">&gt;</span> bad_reads.txt</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="fl">249</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>We might want to search multiple FASTQ files for sequences that match
our search pattern. However, we need to be careful, because each time we
use the <code>&gt;</code> command to redirect output to a file, the new
output will replace the output that was already present in the file.
This is called “overwriting” and, just like you don’t want to overwrite
your video recording of your kid’s first birthday party, you also want
to avoid overwriting your data files.</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq <span class="op">&gt;</span> bad_reads.txt</span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>802 bad_reads.txt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR097977.fastq <span class="op">&gt;</span> bad_reads.txt</span>
<span id="cb21-2"><a href="#cb21-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>0 bad_reads.txt</code></pre>
</div>
<p>Here, the output of our second call to <code>wc</code> shows that we
no longer have any lines in our <code>bad_reads.txt</code> file. This is
because the second file we searched (<code>SRR097977.fastq</code>) does
not contain any lines that match our search sequence. So our file was
overwritten and is now empty.</p>
<p>We can avoid overwriting our files by using the command
<code>&gt;&gt;</code>. <code>&gt;&gt;</code> is known as the “append
redirect” and will append new output to the end of a file, rather than
overwriting it.</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq <span class="op">&gt;</span> bad_reads.txt</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>802 bad_reads.txt</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR097977.fastq <span class="op">&gt;&gt;</span> bad_reads.txt</span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>802 bad_reads.txt</code></pre>
</div>
<p>The output of our second call to <code>wc</code> shows that we have
not overwritten our original data.</p>
<p>We can also do this with a single line of code by using a
wildcard:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN <span class="pp">*</span>.fastq <span class="op">&gt;</span> bad_reads.txt</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a><span class="ex">$</span> wc <span class="at">-l</span> bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>802 bad_reads.txt</code></pre>
</div>
<div id="file-extensions---part-2" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="file-extensions---part-2" class="callout-inner">
<h3 class="callout-title">File extensions - part 2</h3>
<div class="callout-content">
<p>This is where we would have trouble if we were naming our output file
with a <code>.fastq</code> extension. If we already had a file called
<code>bad_reads.fastq</code> (from our previous <code>grep</code>
practice) and then ran the command above using a <code>.fastq</code>
extension instead of a <code>.txt</code> extension, <code>grep</code>
would give us a warning.</p>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN <span class="pp">*</span>.fastq <span class="op">&gt;</span> bad_reads.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>grep: input file ‘bad_reads.fastq' is also the output</code></pre>
</div>
<p><code>grep</code> is letting you know that the output file
<code>bad_reads.fastq</code> is also included in your <code>grep</code>
call because it matches the <code>*.fastq</code> pattern. Be careful
with this as it can lead to some unintended results.</p>
</div>
</div>
</div>
<p>Since we might have multiple different criteria we want to search
for, creating a new output file each time has the potential to clutter
up our workspace. We also thus far haven’t been interested in the actual
contents of those files, only in the number of reads that we’ve found.
We created the files to store the reads and then counted the lines in
the file to see how many reads matched our criteria. There’s a way to do
this, however, that doesn’t require us to create these intermediate
files - the pipe command (<code>|</code>).</p>
<p>This is probably not a key on your keyboard you use very much, so
let’s all take a minute to find that key. In the UK and US keyboard
layouts, and several others, the <code>|</code> character can be found
using the key combination <kbd>Shift</kbd>+<kbd>&lt;/kbd&gt;. This may
be different for other language-specific layouts.</kbd></p>
<p>What <code>|</code> does is take the output that is scrolling by on
the terminal and uses that output as input to another command. When our
output was scrolling by, we might have wished we could slow it down and
look at it, like we can with <code>less</code>. Well it turns out that
we can! We can redirect our output from our <code>grep</code> call
through the <code>less</code> command.</p>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq <span class="kw">|</span> <span class="fu">less</span></span></code></pre>
</div>
<p>We can now see the output from our <code>grep</code> call within the
<code>less</code> interface. We can use the up and down arrows to scroll
through the output and use <code>q</code> to exit <code>less</code>.</p>
<p>If we don’t want to create a file before counting lines of output
from our <code>grep</code> search, we could directly pipe the output of
the grep search to the command <code>wc -l</code>. This can be helpful
for investigating your output if you are not sure you would like to save
it to a file.</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq <span class="kw">|</span> <span class="fu">wc</span> <span class="at">-l</span> </span></code></pre>
</div>
<p>Because we asked <code>grep</code> for all four lines of each FASTQ
record, we need to divide the output by four to get the number of
sequences that match our search pattern. Since 802 / 4 = 200.5 and we
are expecting an integer number of records, there is something added or
missing in <code>bad_reads.txt</code>. If we explore
<code>bad_reads.txt</code> using <code>less</code>, we might be able to
notice what is causing the uneven number of lines. Luckily, this issue
happens by the end of the file so we can also spot it with
<code>tail</code>.</p>
<div class="codewrapper sourceCode" id="cb33">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb33-1"><a href="#cb33-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq <span class="op">&gt;</span> bad_reads.txt</span>
<span id="cb33-2"><a href="#cb33-2" tabindex="-1"></a><span class="ex">$</span> tail bad_reads.txt</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>@SRR098026.133 HWUSI-EAS1599_1:2:1:0:1978 length=35
ANNNNNNNNNTTCAGCGACTNNNNNNNNNNGTNGN
+SRR098026.133 HWUSI-EAS1599_1:2:1:0:1978 length=35
#!!!!!!!!!##########!!!!!!!!!!##!#!
--
--
@SRR098026.177 HWUSI-EAS1599_1:2:1:1:2025 length=35
CNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
+SRR098026.177 HWUSI-EAS1599_1:2:1:1:2025 length=35
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</code></pre>
</div>
<p>The fifth and six lines in the output display “–” which is the
default action for <code>grep</code> to separate groups of lines
matching the pattern, and indicate groups of lines which did not match
the pattern so are not displayed. To fix this issue, we can redirect the
output of grep to a second instance of <code>grep</code> as follows.</p>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb35-1"><a href="#cb35-1" tabindex="-1"></a><span class="ex">$</span> grep <span class="at">-B1</span> <span class="at">-A2</span> NNNNNNNNNN SRR098026.fastq <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-v</span> <span class="st">'^--'</span> <span class="op">&gt;</span> bad_reads.fastq</span>
<span id="cb35-2"><a href="#cb35-2" tabindex="-1"></a><span class="ex">$</span> tail bad_reads.fastq</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>+SRR098026.132 HWUSI-EAS1599_1:2:1:0:320 length=35
#!!!!!!!!!##########!!!!!!!!!!##!#!
@SRR098026.133 HWUSI-EAS1599_1:2:1:0:1978 length=35
ANNNNNNNNNTTCAGCGACTNNNNNNNNNNGTNGN
+SRR098026.133 HWUSI-EAS1599_1:2:1:0:1978 length=35
#!!!!!!!!!##########!!!!!!!!!!##!#!
@SRR098026.177 HWUSI-EAS1599_1:2:1:1:2025 length=35
CNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNN
+SRR098026.177 HWUSI-EAS1599_1:2:1:1:2025 length=35
#!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!</code></pre>
</div>
<p>The <code>-v</code> option in the second <code>grep</code> search
stands for <code>--invert-match</code> meaning <code>grep</code> will
now only display the lines which do not match the searched pattern, in
this case <code>'^--'</code>. The caret (<code>^</code>) is an
<strong>anchoring</strong> character matching the beginning of the line,
and the pattern has to be enclose by single quotes so <code>grep</code>
does not interpret the pattern as an extended option (starting with
–).</p>
<div id="custom-grep-control" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="custom-grep-control" class="callout-inner">
<h3 class="callout-title">Custom <code>grep</code> control</h3>
<div class="callout-content">
<p>Use <code>man grep</code> to read more about other options to
customize the output of <code>grep</code> including extended options,
anchoring characters, and much more.</p>
</div>
</div>
</div>
<p>Redirecting output is often not intuitive, and can take some time to
get used to. Once you’re comfortable with redirection, however, you’ll
be able to combine any number of commands to do all sorts of exciting
things with your data!</p>
<p>None of the command line programs we’ve been learning do anything all
that impressive on their own, but when you start chaining them together,
you can do some really powerful things very efficiently.</p>
<div id="file-manipulation-and-more-practices-with-pipes" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="file-manipulation-and-more-practices-with-pipes" class="callout-inner">
<h3 class="callout-title">File manipulation and more practices with pipes</h3>
<div class="callout-content">
<p>To practice a bit more with the tools we’ve added to our tool kit so
far and learn a few extra ones you can follow <a href="Extra_lesson.html">this extra lesson</a> which uses the SRA
metadata file.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="writing-for-loops">Writing for loops<a class="anchor" aria-label="anchor" href="#writing-for-loops"></a>
</h2>
<hr class="half-width">
<p>Loops are key to productivity improvements through automation as they
allow us to execute commands repeatedly. Similar to wildcards and tab
completion, using loops also reduces the amount of typing (and typing
mistakes). Loops are helpful when performing operations on groups of
sequencing files, such as unzipping or trimming multiple files. We will
use loops for these purposes in subsequent analyses, but will cover the
basics of them for now.</p>
<p>When the shell sees the keyword <code>for</code>, it knows to repeat
a command (or group of commands) once for each item in a list. Each time
the loop runs (called an iteration), an item in the list is assigned in
sequence to the <strong>variable</strong>, and the commands inside the
loop are executed, before moving on to the next item in the list. Inside
the loop, we call for the variable’s value by putting <code>$</code> in
front of it. The <code>$</code> tells the shell interpreter to treat the
<strong>variable</strong> as a variable name and substitute its value in
its place, rather than treat it as text or an external command. In shell
programming, this is usually called “expanding” the variable.</p>
<p>Sometimes, we want to expand a variable without any whitespace to its
right. Suppose we have a variable named <code>foo</code> that contains
the text <code>abc</code>, and would like to expand <code>foo</code> to
create the text <code>abcEFG</code>.</p>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb37-1"><a href="#cb37-1" tabindex="-1"></a><span class="ex">$</span> foo=abc</span>
<span id="cb37-2"><a href="#cb37-2" tabindex="-1"></a><span class="ex">$</span> echo foo is <span class="va">$foo</span></span>
<span id="cb37-3"><a href="#cb37-3" tabindex="-1"></a><span class="ex">foo</span> is abc</span>
<span id="cb37-4"><a href="#cb37-4" tabindex="-1"></a><span class="ex">$</span> echo foo is <span class="va">$fooEFG</span>      <span class="co"># doesn't work</span></span>
<span id="cb37-5"><a href="#cb37-5" tabindex="-1"></a><span class="ex">foo</span> is</span></code></pre>
</div>
<p>The interpreter is trying to expand a variable named
<code>fooEFG</code>, which (probably) doesn’t exist. We can avoid this
problem by enclosing the variable name in braces (<code>{</code> and
<code>}</code>, also called “curly brackets”). <code>bash</code> treats
the <code>#</code> character as a comment character. Any text on a line
after a <code>#</code> is ignored by bash when evaluating the text as
code.</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="ex">$</span> foo=abc</span>
<span id="cb38-2"><a href="#cb38-2" tabindex="-1"></a><span class="ex">$</span> echo foo is <span class="va">$foo</span></span>
<span id="cb38-3"><a href="#cb38-3" tabindex="-1"></a><span class="ex">foo</span> is abc</span>
<span id="cb38-4"><a href="#cb38-4" tabindex="-1"></a><span class="ex">$</span> echo foo is <span class="va">${foo}</span>EFG      <span class="co"># now it works!</span></span>
<span id="cb38-5"><a href="#cb38-5" tabindex="-1"></a><span class="ex">foo</span> is abcEFG</span></code></pre>
</div>
<p>Let’s write a for loop to show us the first two lines of the fastq
files we downloaded earlier. You will notice the shell prompt changes
from <code>$</code> to <code>&gt;</code> and back again as we were
typing in our loop. The second prompt, <code>&gt;</code>, is different
to remind us that we haven’t finished typing a complete command yet. A
semicolon, <code>;</code>, can be used to separate two commands written
on a single line.</p>
<div class="codewrapper sourceCode" id="cb39">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb39-1"><a href="#cb39-1" tabindex="-1"></a><span class="ex">$</span> cd ../untrimmed_fastq/</span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb40">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.fastq</span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb40-3"><a href="#cb40-3" tabindex="-1"></a><span class="op">&gt;</span> head <span class="ex">-n</span> 2 <span class="va">${filename}</span></span>
<span id="cb40-4"><a href="#cb40-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>The for loop begins with the formula
<code>for &lt;variable&gt; in &lt;group to iterate over&gt;</code>. In
this case, the word <code>filename</code> is designated as the variable
to be used over each iteration. In our case <code>SRR097977.fastq</code>
and <code>SRR098026.fastq</code> will be substituted for
<code>filename</code> because they fit the pattern of ending with .fastq
in the directory we’ve specified. The next line of the for loop is
<code>do</code>. The next line is the code that we want to execute. We
are telling the loop to print the first two lines of each variable we
iterate over. Finally, the word <code>done</code> ends the loop.</p>
<p>After executing the loop, you should see the first two lines of both
fastq files printed to the terminal. Let’s create a loop that will save
this information to a file.</p>
<div class="codewrapper sourceCode" id="cb41">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb41-1"><a href="#cb41-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.fastq</span>
<span id="cb41-2"><a href="#cb41-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb41-3"><a href="#cb41-3" tabindex="-1"></a><span class="op">&gt;</span> head <span class="ex">-n</span> 2 <span class="va">${filename}</span> <span class="op">&gt;&gt;</span> seq_info.txt</span>
<span id="cb41-4"><a href="#cb41-4" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<p>When writing a loop, you will not be able to return to previous lines
once you have pressed Enter. Remember that we can cancel the current
command using</p>
<ul>
<li>
<kbd>Ctrl</kbd>+<kbd>C</kbd>
</li>
</ul>
<p>If you notice a mistake that is going to prevent your loop for
executing correctly.</p>
<p>Note that we are using <code>&gt;&gt;</code> to append the text to
our <code>seq_info.txt</code> file. If we used <code>&gt;</code>, the
<code>seq_info.txt</code> file would be rewritten every time the loop
iterates, so it would only have text from the last variable used.
Instead, <code>&gt;&gt;</code> adds to the end of the file.</p>
</section><section><h2 class="section-heading" id="using-basename-in-for-loops">Using Basename in for loops<a class="anchor" aria-label="anchor" href="#using-basename-in-for-loops"></a>
</h2>
<hr class="half-width">
<p>Basename is a function in UNIX that is helpful for removing a uniform
part of a name from a list of files. In this case, we will use basename
to remove the <code>.fastq</code> extension from the files that we’ve
been working with.</p>
<div class="codewrapper sourceCode" id="cb42">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="ex">$</span> basename SRR097977.fastq .fastq</span></code></pre>
</div>
<p>We see that this returns just the SRR accession, and no longer has
the .fastq file extension on it.</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">SRR097977</span></span></code></pre>
</div>
<p>If we try the same thing but use <code>.fasta</code> as the file
extension instead, nothing happens. This is because basename only works
when it exactly matches a string in the file.</p>
<div class="codewrapper sourceCode" id="cb44">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="ex">$</span> basename SRR097977.fastq .fasta</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">SRR097977.fastq</span></span></code></pre>
</div>
<p>Basename is really powerful when used in a for loop. It allows to
access just the file prefix, which you can use to name things. Let’s try
this.</p>
<p>Inside our for loop, we create a new name variable. We call the
basename function inside the parenthesis, then give our variable name
from the for loop, in this case <code>${filename}</code>, and finally
state that <code>.fastq</code> should be removed from the file name.
It’s important to note that we’re not changing the actual files, we’re
creating a new variable called name. The line &gt; echo $name will print
to the terminal the variable name each time the for loop runs. Because
we are iterating over two files, we expect to see two lines of
output.</p>
<div class="codewrapper sourceCode" id="cb46">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.fastq</span>
<span id="cb46-2"><a href="#cb46-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb46-3"><a href="#cb46-3" tabindex="-1"></a><span class="op">&gt;</span> name=<span class="va">$(</span><span class="fu">basename</span> <span class="va">${filename}</span> .fastq<span class="va">)</span></span>
<span id="cb46-4"><a href="#cb46-4" tabindex="-1"></a><span class="op">&gt;</span> echo <span class="va">${name}</span></span>
<span id="cb46-5"><a href="#cb46-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div id="exercise-3" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-3" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Print the file prefix of all of the <code>.txt</code> files in our
current directory.</p>
</div>
</div>
</div>
<div id="accordionSolution4" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution4" aria-expanded="false" aria-controls="collapseSolution4">
  <h4 class="accordion-header" id="headingSolution4"> Show me the solution </h4>
</button>
<div id="collapseSolution4" class="accordion-collapse collapse" data-bs-parent="#accordionSolution4" aria-labelledby="headingSolution4">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb47">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.txt</span>
<span id="cb47-2"><a href="#cb47-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb47-3"><a href="#cb47-3" tabindex="-1"></a><span class="op">&gt;</span> name=<span class="va">$(</span><span class="fu">basename</span> <span class="va">${filename}</span> .txt<span class="va">)</span></span>
<span id="cb47-4"><a href="#cb47-4" tabindex="-1"></a><span class="op">&gt;</span> echo <span class="va">${name}</span></span>
<span id="cb47-5"><a href="#cb47-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>One way this is really useful is to move files. Let’s rename all of
our .txt files using <code>mv</code> so that they have the years on
them, which will document when we created them.</p>
<div class="codewrapper sourceCode" id="cb48">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>.txt</span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a><span class="op">&gt;</span> name=<span class="va">$(</span><span class="fu">basename</span> <span class="va">${filename}</span> .txt<span class="va">)</span></span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a><span class="op">&gt;</span> mv <span class="va">${filename}</span>  <span class="va">${name}</span>_2019.txt</span>
<span id="cb48-5"><a href="#cb48-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
<div id="exercise-4" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-4" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Remove <code>_2019</code> from all of the <code>.txt</code>
files.</p>
</div>
</div>
</div>
<div id="accordionSolution5" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution5" aria-expanded="false" aria-controls="collapseSolution5">
  <h4 class="accordion-header" id="headingSolution5"> Show me the solution </h4>
</button>
<div id="collapseSolution5" class="accordion-collapse collapse" data-bs-parent="#accordionSolution5" aria-labelledby="headingSolution5">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb49">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb49-1"><a href="#cb49-1" tabindex="-1"></a><span class="ex">$</span> for filename in <span class="pp">*</span>_2019.txt</span>
<span id="cb49-2"><a href="#cb49-2" tabindex="-1"></a><span class="op">&gt;</span> do</span>
<span id="cb49-3"><a href="#cb49-3" tabindex="-1"></a><span class="op">&gt;</span> name=<span class="va">$(</span><span class="fu">basename</span> <span class="va">${filename}</span> _2019.txt<span class="va">)</span></span>
<span id="cb49-4"><a href="#cb49-4" tabindex="-1"></a><span class="op">&gt;</span> mv <span class="va">${filename}</span> <span class="va">${name}</span>.txt</span>
<span id="cb49-5"><a href="#cb49-5" tabindex="-1"></a><span class="op">&gt;</span> done</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>
<code>grep</code> is a powerful search tool with many options for
customization.</li>
<li>
<code>&gt;</code>, <code>&gt;&gt;</code>, and <code>|</code> are
different ways of redirecting output.</li>
<li>
<code>command &gt; file</code> redirects a command’s output to a
file.</li>
<li>
<code>command &gt;&gt; file</code> redirects a command’s output to a
file without overwriting the existing contents of the file.</li>
<li>
<code>command_1 | command_2</code> redirects the output of the first
command as input to the second command.</li>
<li>
<code>for</code> loops are used for iteration.</li>
<li>
<code>basename</code> gets rid of repetitive parts of names.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-05-writing-scripts"><p>Content from <a href="05-writing-scripts.html">Writing Scripts and Working with Data</a></p>
<hr>
<p>Last updated on 2024-04-17 |

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/05-writing-scripts.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can we automate a commonly used set of commands?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use the <code>nano</code> text editor to modify text files.</li>
<li>Write a basic shell script.</li>
<li>Use the <code>bash</code> command to execute a shell script.</li>
<li>Use <code>chmod</code> to make a script an executable program.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<script language="javascript" type="text/javascript">
function set_page_view_defaults() {
    document.getElementById('div_win').style.display = 'block';
    document.getElementById('div_unix').style.display = 'none';
};

function change_content_by_platform(form_control){
    if (!form_control || document.getElementById(form_control).value == 'win') {
        set_page_view_defaults();
    } else if (document.getElementById(form_control).value == 'unix') {
        document.getElementById('div_win').style.display = 'none';
        document.getElementById('div_unix').style.display = 'block';
    } else {
        alert("Error: Missing platform value for 'change_content_by_platform()' script!");
    }
}

window.onload = set_page_view_defaults;
</script><section><h2 class="section-heading" id="writing-files">Writing files<a class="anchor" aria-label="anchor" href="#writing-files"></a>
</h2>
<hr class="half-width">
<p>We’ve been able to do a lot of work with files that already exist,
but what if we want to write our own files? We’re not going to type in a
FASTA file, but we’ll see as we go through other tutorials, there are a
lot of reasons we’ll want to write a file, or edit an existing file.</p>
<p>To add text to files, we’re going to use a text editor called Nano.
We’re going to create a file to take notes about what we’ve been doing
with the data files in <code>~/shell_data/untrimmed_fastq</code>.</p>
<p>This is good practice when working in bioinformatics. We can create a
file called <code>README.txt</code> that describes the data files in the
directory or documents how the files in that directory were generated.
As the name suggests, it’s a file that we or others should read to
understand the information in that directory.</p>
<p>Let’s change our working directory to
<code>~/shell_data/untrimmed_fastq</code> using <code>cd</code>, then
run <code>nano</code> to create a file called
<code>README.txt</code>:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd ~/shell_data/untrimmed_fastq</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> nano README.txt</span></code></pre>
</div>
<p>You should see something like this:</p>
<figure><img src="fig/nano201711.png" alt="nano201711.png" class="figure mx-auto d-block"></figure><p>The text at the bottom of the screen shows the keyboard shortcuts for
performing various tasks in <code>nano</code>. We will talk more about
how to interpret this information soon.</p>
<div id="which-editor" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="which-editor" class="callout-inner">
<h3 class="callout-title">Which Editor?</h3>
<div class="callout-content">
<p>When we say, “<code>nano</code> is a text editor,” we really do mean
“text”: <code>nano</code> can only work with plain character data, not
tables, images, or any other human-friendly media. We use
<code>nano</code> in examples because it is one of the least complex
text editors. However, because of this trait, <code>nano</code> may not
be powerful enough or flexible enough for the work you need to do after
this workshop. On Unix systems (such as Linux and Mac OS X), many
programmers use <a href="https://www.gnu.org/software/emacs/" class="external-link">Emacs</a>
or <a href="https://www.vim.org/" class="external-link">Vim</a> (both of which require more
time to learn), or a graphical editor such as <a href="https://projects.gnome.org/gedit/" class="external-link">Gedit</a>. On Windows, you may
wish to use <a href="https://notepad-plus-plus.org/" class="external-link">Notepad++</a>.
Windows also has a built-in editor called <code>notepad</code> that can
be run from the command line in the same way as <code>nano</code> for
the purposes of this lesson.</p>
<p>No matter what editor you use, you will need to know the default
location where it searches for files and where files are saved. If you
start an editor from the shell, it will (probably) use your current
working directory as its default location. If you use your computer’s
start menu, the editor may want to save files in your desktop or
documents directory instead. You can change this by navigating to
another directory the first time you “Save As…”</p>
</div>
</div>
</div>
<p>Let’s type in a few lines of text. Describe what the files in this
directory are or what you’ve been doing with them. Once we’re happy with
our text, we can press <kbd>Ctrl</kbd>-<kbd>O</kbd> (press the
<kbd>Ctrl</kbd> or <kbd>Control</kbd> key and, while holding it down,
press the <kbd>O</kbd> key) to write our data to disk. You’ll be asked
what file we want to save this to: press <kbd>Return</kbd> to accept the
suggested default of <code>README.txt</code>.</p>
<p>Once our file is saved, we can use <kbd>Ctrl</kbd>-<kbd>X</kbd> to
quit the <code>nano</code> editor and return to the shell.</p>
<div id="control-ctrl-or-key" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="control-ctrl-or-key" class="callout-inner">
<h3 class="callout-title">Control, Ctrl, or ^ Key</h3>
<div class="callout-content">
<p>The Control key is also called the “Ctrl” key. There are various ways
in which using the Control key may be described. For example, you may
see an instruction to press the <kbd>Ctrl</kbd> key and, while holding
it down, press the <kbd>X</kbd> key, described as any of:</p>
<ul>
<li><code>Control-X</code></li>
<li><code>Control+X</code></li>
<li><code>Ctrl-X</code></li>
<li><code>Ctrl+X</code></li>
<li><code>^X</code></li>
<li><code>C-x</code></li>
</ul>
<p>In <code>nano</code>, along the bottom of the screen you’ll see
<code>^G Get Help ^O WriteOut</code>. This means that you can use
<kbd>Ctrl</kbd>-<kbd>G</kbd> to get help and
<kbd>Ctrl</kbd>-<kbd>O</kbd> to save your file.</p>
</div>
</div>
</div>
<p>Now you’ve written a file. You can take a look at it with
<code>less</code> or <code>cat</code>, or open it up again and edit it
with <code>nano</code>.</p>
<div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Open <code>README.txt</code> and add the date to the top of the file
and save the file.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Use <code>nano README.txt</code> to open the file.<br>
Add today’s date and then use <kbd>Ctrl</kbd>-<kbd>X</kbd> followed by
<code>y</code> and <kbd>Enter</kbd> to save.</p>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="writing-scripts">Writing scripts<a class="anchor" aria-label="anchor" href="#writing-scripts"></a>
</h2>
<hr class="half-width">
<p>A really powerful thing about the command line is that you can write
scripts. Scripts let you save commands to run them and also lets you put
multiple commands together. Though writing scripts may require an
additional time investment initially, this can save you time as you run
them repeatedly. Scripts can also address the challenge of
reproducibility: if you need to repeat an analysis, you retain a record
of your command history within the script.</p>
<p>One thing we will commonly want to do with sequencing results is pull
out bad reads and write them to a file to see if we can figure out
what’s going on with them. We’re going to look for reads with long
sequences of N’s like we did before, but now we’re going to write a
script, so we can run it each time we get new sequences, rather than
type the code in by hand each time.</p>
<p>We’re going to create a new file to put this command in. We’ll call
it <code>bad-reads-script.sh</code>. The <code>sh</code> isn’t required,
but using that extension tells us that it’s a shell script.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="ex">$</span> nano bad-reads-script.sh</span></code></pre>
</div>
<p>Bad reads have a lot of N’s, so we’re going to look for
<code>NNNNNNNNNN</code> with <code>grep</code>. We want the whole FASTQ
record, so we’re also going to get the one line above the sequence and
the two lines below. We also want to look in all the files that end with
<code>.fastq</code>, so we’re going to use the <code>*</code>
wildcard.</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">grep</span> <span class="at">-B1</span> <span class="at">-A2</span> <span class="at">-h</span> NNNNNNNNNN <span class="pp">*</span>.fastq <span class="kw">|</span> <span class="fu">grep</span> <span class="at">-v</span> <span class="st">'^--'</span> <span class="op">&gt;</span> scripted_bad_reads.txt</span></code></pre>
</div>
<div id="custom-grep-control" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="custom-grep-control" class="callout-inner">
<h3 class="callout-title">Custom <code>grep</code> control</h3>
<div class="callout-content">
<p>We introduced the <code>-v</code> option in <a href="04-redirection.html">the previous episode</a>, now we are using
<code>-h</code> to “Suppress the prefixing of file names on output”
according to the documentation shown by <code>man grep</code>.</p>
</div>
</div>
</div>
<p>Type your <code>grep</code> command into the file and save it as
before. Be careful that you did not add the <code>$</code> at the
beginning of the line.</p>
<p>Now comes the neat part. We can run this script. Type:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> bash bad-reads-script.sh</span></code></pre>
</div>
<p>It will look like nothing happened, but now if you look at
<code>scripted_bad_reads.txt</code>, you can see that there are now
reads in the file.</p>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>We want the script to tell us when it’s done.</p>
<ol style="list-style-type: decimal">
<li>Open <code>bad-reads-script.sh</code> and add the line
<code>echo "Script finished!"</code> after the <code>grep</code> command
and save the file.</li>
<li>Run the updated script.</li>
</ol>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<pre><code>$ bash bad-reads-script.sh
Script finished!</code></pre>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="making-the-script-into-a-program">Making the script into a program<a class="anchor" aria-label="anchor" href="#making-the-script-into-a-program"></a>
</h2>
<hr class="half-width">
<p>We had to type <code>bash</code> because we needed to tell the
computer what program to use to run this script. Instead, we can turn
this script into its own program. We need to tell the computer that this
script is a program by making the script file executable. We can do this
by changing the file permissions. We talked about permissions in <a href="03-working-with-files.html">an earlier episode</a>.</p>
<p>First, let’s look at the current permissions.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> bad-reads-script.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-rw-r--r-- 1 dcuser dcuser 0 Oct 25 21:46 bad-reads-script.sh</code></pre>
</div>
<p>We see that it says <code>-rw-r--r--</code>. This shows that the file
can be read by any user and written to by the file owner (you). We want
to change these permissions so that the file can be executed as a
program. We use the command <code>chmod</code> like we did earlier when
we removed write permissions. Here we are adding (<code>+</code>)
executable permissions (<code>+x</code>).</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> chmod +x bad-reads-script.sh</span></code></pre>
</div>
<p>Now let’s look at the permissions again.</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-l</span> bad-reads-script.sh</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>-rwxr-xr-x 1 dcuser dcuser 0 Oct 25 21:46 bad-reads-script.sh</code></pre>
</div>
<p>Now we see that it says <code>-rwxr-xr-x</code>. The <code>x</code>’s
that are there now tell us we can run it as a program. So, let’s try it!
We’ll need to put <code>./</code> at the beginning so the computer knows
to look here in this directory for the program.</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="ex">$</span> ./bad-reads-script.sh</span></code></pre>
</div>
<p>The script should run the same way as before, but now we’ve created
our very own computer program!</p>
<p>You will learn more about writing scripts in <a href="https://datacarpentry.org/wrangling-genomics/05-automation" class="external-link">a
later lesson</a>.</p>
</section><section><h2 class="section-heading" id="moving-and-downloading-data">Moving and Downloading Data<a class="anchor" aria-label="anchor" href="#moving-and-downloading-data"></a>
</h2>
<hr class="half-width">
<p>So far, we’ve worked with data that is pre-loaded on the instance in
the cloud. Usually, however, most analyses begin with moving data onto
the instance. Below we’ll show you some commands to download data onto
your instance, or to move data between your computer and the cloud.</p>
<div class="section level3">
<h3 id="getting-data-from-the-cloud">Getting data from the cloud<a class="anchor" aria-label="anchor" href="#getting-data-from-the-cloud"></a>
</h3>
<p>There are two programs that will download data from a remote server
to your local (or remote) machine: <code>wget</code> and
<code>curl</code>. They were designed to do slightly different tasks by
default, so you’ll need to give the programs somewhat different options
to get the same behaviour, but they are mostly interchangeable.</p>
<ul>
<li><p><code>wget</code> is short for “world wide web get”, and it’s
basic function is to <em>download</em> web pages or data at a web
address.</p></li>
<li><p><code>cURL</code> is a pun, it is supposed to be read as “see
URL”, so its basic function is to <em>display</em> webpages or data at a
web address.</p></li>
</ul>
<p>Which one you need to use mostly depends on your operating system, as
most computers will only have one or the other installed by default.</p>
<p>Let’s say you want to download some data from Ensembl. We’re going to
download a very small tab-delimited file that just tells us what data is
available on the Ensembl bacteria server. Before we can start our
download, we need to know whether we’re using <code>curl</code> or
<code>wget</code>.</p>
<p>To see which program you have, type:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> which curl</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">$</span> which wget</span></code></pre>
</div>
<p><code>which</code> is a BASH program that looks through everything
you have installed, and tells you what folder it is installed to. If it
can’t find the program you asked for, it returns nothing, i.e. gives you
no results.</p>
<p>On Mac OSX, you’ll likely get the following output:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="ex">$</span> which curl</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/usr/bin/curl</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="ex">$</span> which wget</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>$</code></pre>
</div>
<p>This output means that you have <code>curl</code> installed, but not
<code>wget</code>.</p>
<p>Once you know whether you have <code>curl</code> or
<code>wget</code>, use one of the following commands to download the
file:</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a><span class="ex">$</span> wget ftp://ftp.ensemblgenomes.org/pub/release-37/bacteria/species_EnsemblBacteria.txt</span></code></pre>
</div>
<p>or</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a><span class="ex">$</span> curl <span class="at">-O</span> ftp://ftp.ensemblgenomes.org/pub/release-37/bacteria/species_EnsemblBacteria.txt</span></code></pre>
</div>
<p>Since we wanted to <em>download</em> the file rather than just view
it, we used <code>wget</code> without any modifiers. With
<code>curl</code> however, we had to use the -O flag, which
simultaneously tells <code>curl</code> to download the page instead of
showing it to us <strong>and</strong> specifies that it should save the
file using the same name it had on the server:
species_EnsemblBacteria.txt</p>
<p>It’s important to note that both <code>curl</code> and
<code>wget</code> download to the computer that the command line belongs
to. So, if you are logged into AWS on the command line and execute the
<code>curl</code> command above in the AWS terminal, the file will be
downloaded to your AWS machine, not your local one.</p>
</div>
<div class="section level3">
<h3 id="moving-files-between-your-laptop-and-your-instance">Moving files between your laptop and your instance<a class="anchor" aria-label="anchor" href="#moving-files-between-your-laptop-and-your-instance"></a>
</h3>
<p>What if the data you need is on your local computer, but you need to
get it <em>into</em> the cloud? There are also several ways to do this,
but it’s <em>always</em> easier to start the transfer locally.
<strong>This means if you’re typing into a terminal, the terminal should
not be logged into your instance, it should be showing your local
computer. If you’re using a transfer program, it needs to be installed
on your local machine, not your instance.</strong></p>
</div>
</section><section><h2 class="section-heading" id="transferring-data-between-your-local-machine-and-the-cloud">Transferring Data Between your Local Machine and the Cloud<a class="anchor" aria-label="anchor" href="#transferring-data-between-your-local-machine-and-the-cloud"></a>
</h2>
<hr class="half-width">
<p>If you’re using Linux, Mac OS, or Windows with Git Bash on your local
machine, you can use <code>scp</code> to upload data to your virtual
machine.</p>
<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> SCP </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" aria-labelledby="headingSpoiler1" data-bs-parent="#accordionSpoiler1">
<div class="accordion-body">
<p><code>scp</code> stands for ‘secure copy protocol’, and is a widely
used UNIX tool for moving files between computers. The simplest way to
use <code>scp</code> is to run it in your local terminal, and use it to
copy a single file:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="fu">scp</span> <span class="op">&lt;</span>file I want to move<span class="op">&gt;</span> <span class="op">&lt;</span>where I want to move it<span class="op">&gt;</span></span></code></pre>
</div>
<p>Note that you are always running <code>scp</code> locally, but that
<em>doesn’t</em> mean that you can only move files from your local
computer. In order to move a file from your local computer to an AWS
instance, the command would look like this:</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="ex">$</span> scp <span class="op">&lt;</span>local file<span class="op">&gt;</span> <span class="op">&lt;</span>AWS instance<span class="op">&gt;</span></span></code></pre>
</div>
<p>To move it back to your local computer, you re-order the
<code>to</code> and <code>from</code> fields:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" tabindex="-1"></a><span class="ex">$</span> scp <span class="op">&lt;</span>AWS instance<span class="op">&gt;</span> <span class="op">&lt;</span>local file<span class="op">&gt;</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="uploading-data-to-your-virtual-machine-with-scp">Uploading Data to your Virtual Machine with scp<a class="anchor" aria-label="anchor" href="#uploading-data-to-your-virtual-machine-with-scp"></a>
</h4>
<p>Open the terminal and use the <code>scp</code> command to upload a
file (e.g. local_file.txt) to the dcuser home directory:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="ex">$</span>  scp local_file.txt dcuser@ip.address:/home/dcuser/</span></code></pre>
</div>
</div>
<div class="section level4">
<h4 id="downloading-data-from-your-virtual-machine-with-scp">Downloading Data from your Virtual Machine with scp<a class="anchor" aria-label="anchor" href="#downloading-data-from-your-virtual-machine-with-scp"></a>
</h4>
<p>Let’s download a text file from our remote machine. You should have a
file that contains bad reads called
~/shell_data/scripted_bad_reads.txt.</p>
<p><strong>Tip:</strong> If you are looking for another (or any really)
text file in your home directory to use instead, try:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ex">$</span> find ~ <span class="at">-name</span> <span class="pp">*</span>.txt</span></code></pre>
</div>
<p>Download the bad reads file in ~/shell_data/scripted_bad_reads.txt to
your home ~/Download directory using the following command <strong>(make
sure you substitute <a href="mailto:dcuser@ip.address">dcuser@ip.address</a> with your remote
login credentials)</strong>:</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="ex">$</span> scp dcuser@ip.address:/home/dcuser/shell_data/untrimmed_fastq/scripted_bad_reads.txt ~/Downloads</span></code></pre>
</div>
<p>Remember that in both instances, the command is run from your local
machine, we’ve just flipped the order of the to and from parts of the
command.</p>
</div>
</div>
</div>
</div>
</div>
<p>If you are using Windows without Git Bash on your local machine, you
can use <code>pscp.exe</code> to upload data to your virtual
machine.</p>
<div id="accordionSpoiler2" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler2" aria-expanded="false" aria-controls="collapseSpoiler2">
  <h3 class="accordion-header" id="headingSpoiler2">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> PCSP </h3>
</button>
<div id="collapseSpoiler2" class="accordion-collapse collapse" aria-labelledby="headingSpoiler2" data-bs-parent="#accordionSpoiler2">
<div class="accordion-body">
<p>If you’re using a Windows PC without Git Bash, we recommend you use
the <em>PSCP</em> program. This program is from the same suite of tools
as the PuTTY program we have been using to connect.</p>
<ol style="list-style-type: decimal">
<li>If you haven’t done so, download <em>PSCP</em> from <a href="https://the.earth.li/~sgtatham/putty/latest/x86/pscp.exe" class="external-link">http://the.earth.li/~sgtatham/putty/latest/x86/pscp.exe</a>
</li>
<li>Make sure the <em>PSCP</em> program is somewhere you know on your
computer. In this case, your Downloads folder is appropriate.</li>
<li>Open the windows <a href="https://en.wikipedia.org/wiki/Windows_PowerShell" class="external-link">PowerShell</a>;
go to your start menu/search enter the term <strong>‘cmd’</strong>; you
will be able to start the shell (the shell should start from
C:\Users\your-pc-username&gt;).</li>
<li>Change to the Downloads directory:</li>
</ol>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="op">&gt;</span> cd <span class="ex">Downloads</span></span></code></pre>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Locate a file on your computer that you wish to upload (be sure you
know the path). Then upload it to your remote machine <strong>(you will
need to know your AMI instance address (which starts with ec2), and
login credentials)</strong>. You will be prompted to enter a password,
and then your upload will begin. <strong>(make sure you substitute
‘your-pc-username’ for your actual pc username and
‘ec2-54-88-126-85.compute-1.amazonaws.com’ with your AMI instance
address)</strong>
</li>
</ol>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="ex">C:\User\your-pc-username\Downloads</span><span class="op">&gt;</span> pscp.exe local_file.txt dcuser@ec2-54-88-126-85.compute-1.amazonaws.com:/home/dcuser/</span></code></pre>
</div>
<div class="section level3">
<h3 id="downloading-data-from-your-virtual-machine-with-pscp">Downloading Data from your Virtual Machine with PSCP<a class="anchor" aria-label="anchor" href="#downloading-data-from-your-virtual-machine-with-pscp"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Follow the instructions in the Upload section to download (if
needed) and access the <em>PSCP</em> program (steps 1-3)</li>
<li>Download the text file to your current working directory
(represented by a .) using the following command <strong>(make sure you
substitute ‘your-pc-username’ for your actual pc username and
‘ec2-54-88-126-85.compute-1.amazonaws.com’ with your AMI instance
address)</strong>
</li>
</ol>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a><span class="ex">C:\User\your-pc-username\Downloads</span><span class="op">&gt;</span> pscp.exe dcuser@ec2-54-88-126-85.compute-1.amazonaws.com:/home/dcuser/shell_data/untrimmed_fastq/scripted_bad_reads.txt .</span>
<span id="cb27-2"><a href="#cb27-2" tabindex="-1"></a></span>
<span id="cb27-3"><a href="#cb27-3" tabindex="-1"></a><span class="ex">C:\User\your-pc-username\Downloads</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Scripts are a collection of commands executed together.</li>
<li>Transferring information to and from virtual and local
computers.</li>
</ul>
</div>
</div>
</div>
</section></section><section id="aio-06-organization"><p>Content from <a href="06-organization.html">Project Organization</a></p>
<hr>
<p>Last updated on 2023-05-08 |

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/episodes/06-organization.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can I organize my file system for a new bioinformatics
project?</li>
<li>How can I document my work?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Create a file system for a bioinformatics project.</li>
<li>Explain what types of files should go in your <code>docs</code>,
<code>data</code>, and <code>results</code> directories.</li>
<li>Use the <code>history</code> command and a text editor like
<code>nano</code> to document your work on your project.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="getting-your-project-started">Getting your project started<a class="anchor" aria-label="anchor" href="#getting-your-project-started"></a>
</h2>
<hr class="half-width">
<p>Project organization is one of the most important parts of a
sequencing project, and yet is often overlooked amidst the excitement of
getting a first look at new data. Of course, while it’s best to get
yourself organized before you even begin your analyses, it’s never too
late to start, either.</p>
<p>You should approach your sequencing project similarly to how you do a
biological experiment and this ideally begins with experimental design.
We’re going to assume that you’ve already designed a beautiful
sequencing experiment to address your biological question, collected
appropriate samples, and that you have enough statistical power to
answer the questions you’re interested in asking. These steps are all
incredibly important, but beyond the scope of our course. For all of
those steps (collecting specimens, extracting DNA, prepping your
samples) you’ve likely kept a lab notebook that details how and why you
did each step. However, the process of documentation doesn’t stop at the
sequencer!</p>
<p>Genomics projects can quickly accumulate hundreds of files across
tens of folders. Every computational analysis you perform over the
course of your project is going to create many files, which can
especially become a problem when you’ll inevitably want to run some of
those analyses again. For instance, you might have made significant
headway into your project, but then have to remember the PCR conditions
you used to create your sequencing library months prior.</p>
<p>Other questions might arise along the way:</p>
<ul>
<li>What were your best alignment results?</li>
<li>Which folder were they in: Analysis1, AnalysisRedone, or
AnalysisRedone2?</li>
<li>Which quality cutoff did you use?</li>
<li>What version of a given program did you implement your analysis
in?</li>
</ul>
<p>Good documentation is key to avoiding this issue, and luckily enough,
recording your computational experiments is even easier than recording
lab data. Copy/Paste will become your best friend, sensible file names
will make your analysis understandable by you and your collaborators,
and writing the methods section for your next paper will be easy!
Remember that in any given project of yours, it’s worthwhile to consider
a future version of yourself as an entirely separate collaborator. The
better your documenation is, the more this ‘collaborator’ will feel
indebted to you!</p>
<p>With this in mind, let’s have a look at the best practices for
documenting your genomics project. Your future self will thank you.</p>
<p>In this exercise we will setup a file system for the project we will
be working on during this workshop.</p>
<p>We will start by creating a directory that we can use for the rest of
the workshop. First navigate to your home directory. Then confirm that
you are in the correct directory using the <code>pwd</code> command.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="ex">$</span> cd</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="ex">$</span> pwd</span></code></pre>
</div>
<p>You should see the output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>/home/dcuser  </code></pre>
</div>
<div id="tip" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tip" class="callout-inner">
<h3 class="callout-title">Tip</h3>
<div class="callout-content">
<p>If you aren’t in your home directory, the easiest way to get there is
to enter the command <code>cd</code>, which always returns you to
home.</p>
</div>
</div>
</div>
<div id="exercise" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Use the <code>mkdir</code> command to make the following
directories:</p>
<ul>
<li><code>dc_workshop</code></li>
<li><code>dc_workshop/docs</code></li>
<li><code>dc_workshop/data</code></li>
<li><code>dc_workshop/results</code></li>
</ul>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="ex">$</span> mkdir dc_workshop</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="ex">$</span> mkdir dc_workshop/docs</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="ex">$</span> mkdir dc_workshop/data</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="ex">$</span> mkdir dc_workshop/results</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Use <code>ls -R</code> to verify that you have created these
directories. The <code>-R</code> option for <code>ls</code> stands for
recursive. This option causes <code>ls</code> to return the contents of
each subdirectory within the directory iteratively.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="ex">$</span> ls <span class="at">-R</span> dc_workshop</span></code></pre>
</div>
<p>You should see the following output:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>dc_workshop/:
data  docs  results

dc_workshop/data:

dc_workshop/docs:

dc_workshop/results: </code></pre>
</div>
</section><section><h2 class="section-heading" id="organizing-your-files">Organizing your files<a class="anchor" aria-label="anchor" href="#organizing-your-files"></a>
</h2>
<hr class="half-width">
<p>Before beginning any analysis, it’s important to save a copy of your
raw data. The raw data should never be changed. Regardless of how sure
you are that you want to carry out a particular data cleaning step,
there’s always the chance that you’ll change your mind later or that
there will be an error in carrying out the data cleaning and you’ll need
to go back a step in the process. Having a raw copy of your data that
you never modify guarantees that you will always be able to start over
if something goes wrong with your analysis. When starting any analysis,
you can make a copy of your raw data file and do your manipulations on
that file, rather than the raw version. We learned in <a href="https://datacarpentry.org/shell-genomics/03-working-with-files#file-permissions" class="external-link">a
previous episode</a> how to prevent overwriting our raw data files by
setting restrictive file permissions.</p>
<p>You can store any results that are generated from your analysis in
the <code>results</code> folder. This guarantees that you won’t confuse
results file and data files in six months or two years when you are
looking back through your files in preparation for publishing your
study.</p>
<p>The <code>docs</code> folder is the place to store any written
analysis of your results, notes about how your analyses were carried
out, and documents related to your eventual publication.</p>
</section><section><h2 class="section-heading" id="documenting-your-activity-on-the-project">Documenting your activity on the project<a class="anchor" aria-label="anchor" href="#documenting-your-activity-on-the-project"></a>
</h2>
<hr class="half-width">
<p>When carrying out wet-lab analyses, most scientists work from a
written protocol and keep a hard copy of written notes in their lab
notebook, including any things they did differently from the written
protocol. This detailed record-keeping process is just as important when
doing computational analyses. Luckily, it’s even easier to record the
steps you’ve carried out computational than it is when working at the
bench.</p>
<p>The <code>history</code> command is a convenient way to document all
the commands you have used while analyzing and manipulating your project
files. Let’s document the work we have done on our project so far.</p>
<p>View the commands that you have used so far during this session using
<code>history</code>:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="ex">$</span> history</span></code></pre>
</div>
<p>The history likely contains many more commands than you have used for
the current project. Let’s view the last several commands that focus on
just what we need for this project.</p>
<p>View the last n lines of your history (where n = approximately the
last few lines you think relevant). For our example, we will use the
last 7:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 7</span></code></pre>
</div>
<div id="exercise-1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-1" class="callout-inner">
<h3 class="callout-title">Exercise</h3>
<div class="callout-content">
<p>Using your knowledge of the shell, use the append redirect
<code>&gt;&gt;</code> to create a file called
<code>dc_workshop_log_XXXX_XX_XX.sh</code> (Use the four-digit year,
two-digit month, and two digit day, e.g.
<code>dc_workshop_log_2017_10_27.sh</code>)</p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">$</span> history <span class="kw">|</span> <span class="fu">tail</span> <span class="at">-n</span> 7 <span class="op">&gt;&gt;</span> dc_workshop_log_2017_10_27.sh</span></code></pre>
</div>
<p>Note we used the last 7 lines as an example, the number of lines may
vary.</p>
</div>
</div>
</div>
</div>
<p>You may have noticed that your history contains the
<code>history</code> command itself. To remove this redundancy from our
log, let’s use the <code>nano</code> text editor to fix the file:</p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="ex">$</span> nano dc_workshop_log_2017_10_27.sh</span></code></pre>
</div>
<p>(Remember to replace the <code>2017_10_27</code> with your workshop
date.)</p>
<p>From the <code>nano</code> screen, you can use your cursor to
navigate, type, and delete any redundant lines.</p>
<div id="navigating-in-nano" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="navigating-in-nano" class="callout-inner">
<h3 class="callout-title">Navigating in Nano</h3>
<div class="callout-content">
<p>Although <code>nano</code> is useful, it can be frustrating to edit
documents, as you can’t use your mouse to navigate to the part of the
document you would like to edit. Here are some useful keyboard shortcuts
for moving around within a text document in <code>nano</code>. You can
find more information by typing <kbd>Ctrl</kbd>-<kbd>G</kbd> within
<code>nano</code>.</p>
<table class="table">
<colgroup>
<col width="10%">
<col width="89%">
</colgroup>
<thead><tr class="header">
<th>key</th>
<th>action</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>
<kbd>Ctrl</kbd>-<kbd>Space</kbd> OR
<kbd>Ctrl</kbd>-<kbd>→</kbd>
</td>
<td>to move forward one word</td>
</tr>
<tr class="even">
<td>
<kbd>Alt</kbd>-<kbd>Space</kbd> OR <kbd>Esc</kbd>-<kbd>Space</kbd>
OR <kbd>Ctrl</kbd>-<kbd>←</kbd>
</td>
<td>to move back one word</td>
</tr>
<tr class="odd">
<td>
<kbd>Ctrl</kbd>-<kbd>A</kbd>
</td>
<td>to move to the beginning of the current line</td>
</tr>
<tr class="even">
<td>
<kbd>Ctrl</kbd>-<kbd>E</kbd>
</td>
<td>to move to the end of the current line</td>
</tr>
<tr class="odd">
<td>
<kbd>Ctrl</kbd>-<kbd>W</kbd>
</td>
<td>to search</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>Add a date line and comment to the line where you have created the
directory. Recall that any text on a line after a <code>#</code> is
ignored by bash when evaluating the text as code. For example:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="co"># 2017_10_27   </span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co"># Created sample directories for the Data Carpentry workshop  </span></span></code></pre>
</div>
<p>Next, remove any lines of the history that are not relevant by
navigating to those lines and using your delete key. Save your file and
close <code>nano</code>.</p>
<p>Your file should look something like this:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># 2017_10_27
# Created sample directories for the Data Carpentry workshop

mkdir dc_workshop
mkdir dc_workshop/docs
mkdir dc_workshop/data
mkdir dc_workshop/results</code></pre>
</div>
<p>If you keep this file up to date, you can use it to re-do your work
on your project if something happens to your results files. To
demonstrate how this works, first delete your <code>dc_workshop</code>
directory and all of its subdirectories. Look at your directory contents
to verify the directory is gone.</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="ex">$</span> rm <span class="at">-r</span> dc_workshop</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>shell_data	dc_workshop_log_2017_10_27.sh</code></pre>
</div>
<p>Then run your workshop log file as a bash script. You should see the
<code>dc_workshop</code> directory and all of its subdirectories
reappear.</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="ex">$</span> bash dc_workshop_log_2017_10_27.sh</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="ex">$</span> ls</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>shell_data	dc_workshop dc_workshop_log_2017_10_27.sh</code></pre>
</div>
<p>It’s important that we keep our workshop log file outside of our
<code>dc_workshop</code> directory if we want to use it to recreate our
work. It’s also important for us to keep it up to date by regularly
updating with the commands that we used to generate our results
files.</p>
<p>Congratulations! You’ve finished your introduction to using the shell
for genomics projects. You now know how to navigate your file system,
create, copy, move, and remove files and directories, and automate
repetitive tasks using scripts and wildcards. With this solid
foundation, you’re ready to move on to apply all of these new skills to
carrying out more sophisticated bioinformatics analysis work. Don’t
worry if everything doesn’t feel perfectly comfortable yet. We’re going
to have many more opportunities for practice as we move forward on our
bioinformatics journey!</p>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p><a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1000424" class="external-link">A
Quick Guide to Organizing Computational Biology Projects</a></p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Spend the time to organize your file system when you start a new
project. Your future self will thank you!</li>
<li>Always save a write-protected copy of your raw data.</li>
</ul>
</div>
</div>
</div>
</div>
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/datacarpentry/shell-genomics/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/datacarpentry/shell-genomics/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/shell-genomics/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/shell-genomics/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.10" class="external-link">sandpaper (0.16.10)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.7" class="external-link">pegboard (0.7.7)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://datacarpentry.github.io/shell-genomics/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.github.io/shell-genomics/aio.html",
  "identifier": "https://datacarpentry.github.io/shell-genomics/aio.html",
  "dateCreated": "2015-03-24",
  "dateModified": "2024-12-10",
  "datePublished": "2024-12-10"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo --><script>
          var _paq = window._paq = window._paq || [];
          /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
          _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
          _paq.push(["setDomains", ["*.lessons.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
          _paq.push(["setDoNotTrack", true]);
          _paq.push(["disableCookies"]);
          _paq.push(["trackPageView"]);
          _paq.push(["enableLinkTracking"]);
          (function() {
              var u="https://matomo.carpentries.org/";
              _paq.push(["setTrackerUrl", u+"matomo.php"]);
              _paq.push(["setSiteId", "1"]);
              var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0];
              g.async=true; g.src="https://matomo.carpentries.org/matomo.js"; s.parentNode.insertBefore(g,s);
          })();
        </script><!-- End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

